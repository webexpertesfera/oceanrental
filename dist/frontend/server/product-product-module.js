exports.ids=[5],exports.modules={qvFY:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ProductModule",function(){return ProductModule});var common=__webpack_require__("ofXK"),fesm2015_forms=__webpack_require__("3Pt+"),core_module=__webpack_require__("pKmL"),http=__webpack_require__("tk/3"),fesm2015_router=__webpack_require__("tyNb"),basic_layout_component=__webpack_require__("Gtif"),tslib=__webpack_require__("zOht"),core=__webpack_require__("fXoL"),ng_bootstrap=__webpack_require__("1kSV"),bookings_service=__webpack_require__("Zs34"),booking_model=__webpack_require__("JIWC"),btn_love_component=__webpack_require__("uSMn"),counter_component=__webpack_require__("5OLY");function RecommendedProductCarousel_div_1_div_7_div_1_button_1_Template(rf,ctx){1&rf&&(core.Tc(0,"button",19),core.Pc(1,"img",20),core.Sc())}function RecommendedProductCarousel_div_1_div_7_div_1_button_2_Template(rf,ctx){if(1&rf&&(core.Tc(0,"button",21),core.Pc(1,"img",20),core.Sc()),2&rf){const product_r1=core.fd(3).$implicit;core.md("ngbPopover",product_r1.note)}}function RecommendedProductCarousel_div_1_div_7_div_1_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",4),core.Ad(1,RecommendedProductCarousel_div_1_div_7_div_1_button_1_Template,2,0,"button",17),core.Ad(2,RecommendedProductCarousel_div_1_div_7_div_1_button_2_Template,2,1,"button",18),core.Sc()),2&rf){const product_r1=core.fd(2).$implicit;core.Bc(1),core.ld("ngIf",!product_r1.note),core.Bc(1),core.ld("ngIf",product_r1.note)}}function RecommendedProductCarousel_div_1_div_7_div_2_button_1_Template(rf,ctx){if(1&rf&&(core.Tc(0,"button",24),core.Pc(1,"img",25),core.Sc()),2&rf){const product_r1=core.fd(3).$implicit;core.md("ngbPopover",product_r1.note)}}function RecommendedProductCarousel_div_1_div_7_div_2_button_2_Template(rf,ctx){1&rf&&(core.Tc(0,"button",26),core.Pc(1,"img",25),core.Sc())}function RecommendedProductCarousel_div_1_div_7_div_2_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",4),core.Ad(1,RecommendedProductCarousel_div_1_div_7_div_2_button_1_Template,2,1,"button",22),core.Ad(2,RecommendedProductCarousel_div_1_div_7_div_2_button_2_Template,2,0,"button",23),core.Sc()),2&rf){const product_r1=core.fd(2).$implicit;core.Bc(1),core.ld("ngIf",product_r1.note),core.Bc(1),core.ld("ngIf",!product_r1.note)}}function RecommendedProductCarousel_div_1_div_7_div_3_button_1_Template(rf,ctx){if(1&rf&&(core.Tc(0,"button",29),core.Pc(1,"img",30),core.Sc()),2&rf){const product_r1=core.fd(3).$implicit;core.md("ngbPopover",product_r1.note)}}function RecommendedProductCarousel_div_1_div_7_div_3_button_2_Template(rf,ctx){1&rf&&(core.Tc(0,"button",31),core.Pc(1,"img",30),core.Sc())}function RecommendedProductCarousel_div_1_div_7_div_3_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",4),core.Ad(1,RecommendedProductCarousel_div_1_div_7_div_3_button_1_Template,2,1,"button",27),core.Ad(2,RecommendedProductCarousel_div_1_div_7_div_3_button_2_Template,2,0,"button",28),core.Sc()),2&rf){const product_r1=core.fd(2).$implicit;core.Bc(1),core.ld("ngIf",product_r1.note),core.Bc(1),core.ld("ngIf",!product_r1.note)}}function RecommendedProductCarousel_div_1_div_7_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",15),core.Ad(1,RecommendedProductCarousel_div_1_div_7_div_1_Template,3,2,"div",16),core.Ad(2,RecommendedProductCarousel_div_1_div_7_div_2_Template,3,2,"div",16),core.Ad(3,RecommendedProductCarousel_div_1_div_7_div_3_Template,3,2,"div",16),core.Sc()),2&rf){const ctx_r2=core.fd(2);core.Bc(1),core.ld("ngIf","AVAILABLE"===ctx_r2.availabilityState.state),core.Bc(1),core.ld("ngIf","NOT_AVAILABLE"===ctx_r2.availabilityState.state),core.Bc(1),core.ld("ngIf","AVAILABLE_BUT_DELAYED"===ctx_r2.availabilityState.state)}}function RecommendedProductCarousel_div_1_div_15_Template(rf,ctx){if(1&rf){const _r23=core.Uc();core.Tc(0,"div"),core.Tc(1,"app-counter",32),core.dd("counterChange",function RecommendedProductCarousel_div_1_div_15_Template_app_counter_counterChange_1_listener($event){core.vd(_r23);return core.fd().$implicit.quantity=$event})("counterChange",function RecommendedProductCarousel_div_1_div_15_Template_app_counter_counterChange_1_listener($event){core.vd(_r23);const product_r1=core.fd().$implicit;return core.fd().productQuantityChanged(product_r1,$event)}),core.Sc(),core.Sc()}if(2&rf){const product_r1=core.fd().$implicit,ctx_r3=core.fd();core.Bc(1),core.ld("counter",product_r1.quantity)("disabled",ctx_r3.loadingAvailability)}}function RecommendedProductCarousel_div_1_button_16_Template(rf,ctx){if(1&rf){const _r29=core.Uc();core.Tc(0,"button",33),core.dd("click",function RecommendedProductCarousel_div_1_button_16_Template_button_click_0_listener(){core.vd(_r29);const product_r1=core.fd().$implicit;return core.fd().addToCurrentBookingsButtonClicked(product_r1)}),core.Cd(1," ADD TO BOOKING "),core.Sc()}if(2&rf){const ctx_r4=core.fd(2);core.ld("disabled",ctx_r4.loadingAvailability)}}function RecommendedProductCarousel_div_1_div_17_Template(rf,ctx){1&rf&&(core.Tc(0,"div",34),core.Cd(1," Item added to your Booking. "),core.Sc())}function RecommendedProductCarousel_div_1_Template(rf,ctx){if(1&rf){const _r31=core.Uc();core.Tc(0,"div",2),core.Tc(1,"div",3),core.dd("click",function RecommendedProductCarousel_div_1_Template_div_click_1_listener(){core.vd(_r31);const product_r1=ctx.$implicit;return core.fd().productClick.emit(product_r1)}),core.Tc(2,"div",4),core.Pc(3,"img",5),core.Pc(4,"app-btn-love"),core.Sc(),core.Tc(5,"div",6),core.Tc(6,"div",7),core.Ad(7,RecommendedProductCarousel_div_1_div_7_Template,4,3,"div",8),core.Sc(),core.Tc(8,"div",9),core.Cd(9),core.Sc(),core.Tc(10,"div",10),core.Cd(11),core.gd(12,"number"),core.Sc(),core.Tc(13,"p",11),core.Cd(14,"per day"),core.Sc(),core.Ad(15,RecommendedProductCarousel_div_1_div_15_Template,2,2,"div",12),core.Ad(16,RecommendedProductCarousel_div_1_button_16_Template,2,1,"button",13),core.Ad(17,RecommendedProductCarousel_div_1_div_17_Template,2,0,"div",14),core.Sc(),core.Sc(),core.Sc()}if(2&rf){const product_r1=ctx.$implicit,ctx_r0=core.fd();core.Bc(3),core.ld("src",null==product_r1.imageThumbnail?null:product_r1.imageThumbnail.url,core.xd),core.Bc(4),core.ld("ngIf",ctx_r0.availabilityChecked&&!ctx_r0.loadingAvailability),core.Bc(2),core.Dd(product_r1.name),core.Bc(2),core.Ed("",core.id(12,7,product_r1.price,"1.0-2")," \u20ac"),core.Bc(4),core.ld("ngIf",ctx_r0.showCounter),core.Bc(1),core.ld("ngIf",ctx_r0.showAddToBooking),core.Bc(1),core.ld("ngIf",product_r1.addedToBooking)}}class recommended_product_carousel_component_RecommendedProductCarousel{constructor(bookingService){this.bookingService=bookingService,this.showAddToBooking=!0,this.showCounter=!0,this.displayCount=5,this.productClick=new core.x,this.recommendedProductAdded=new core.x,this.isValid=new core.x,this.loadingAvailability=!1,this.availabilityChecked=!1,this.loadingAvailabilityGraph=!1,this._products=[]}ngOnInit(){}set products(p){this._products=p.slice(0,this.displayCount)}get products(){return this._products}addToCurrentBookingsButtonClicked(product){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{product.addedToBooking=!0,this.recommendedProductAdded.emit(product),setTimeout(()=>{product.addedToBooking=!1},2e3)}catch(err){console.log(err)}})}productQuantityChanged(product,_quantity){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){this.isValid.emit(!1);const booking=this.bookingService.getCurrentBooking();if(this.availabilityChecked=!1,!product)return;if(!booking)return;if(!booking.period)return;if(!booking.period.fromDate)return;if(!booking.period.toDate)return;if(!booking.location)return;if(!booking.location.collection)return;if(!booking.location.delivery)return;const miniBooking=new booking_model.b;miniBooking.products=booking.products,miniBooking.products.forEach(p=>{p.accessories=[product]}),miniBooking.period.fromDate=booking.period.fromDate,miniBooking.period.toDate=booking.period.toDate,miniBooking.location.collection=booking.location.collection,miniBooking.location.delivery=booking.location.delivery,this.loadingAvailability=!0;try{const availabilityResponse=yield this.bookingService.productsAvailability(miniBooking);if(availabilityResponse.products[0]){availabilityResponse.products[0].accessories.forEach(a=>{this.availabilityState={state:a.availabilityState,notes:a.note}}),this.availabilityChecked=!0}}catch(err){this.availabilityState={state:"NOT_AVAILABLE",notes:""}}this.loadingAvailability=!1,this.availabilityChecked=!0,this.loadingAvailability||"NOT_AVAILABLE"!==this.availabilityState.state?this.loadingAvailability||"NOT_AVAILABLE"===this.availabilityState.state||(this.isValid.emit(!0),this.recommendedProductAdded.emit(product)):this.isValid.emit(!1)})}}recommended_product_carousel_component_RecommendedProductCarousel.\u0275fac=function RecommendedProductCarousel_Factory(t){return new(t||recommended_product_carousel_component_RecommendedProductCarousel)(core.Oc(bookings_service.a))},recommended_product_carousel_component_RecommendedProductCarousel.\u0275cmp=core.Ic({type:recommended_product_carousel_component_RecommendedProductCarousel,selectors:[["app-recommended-product-carousel"]],inputs:{showAddToBooking:"showAddToBooking",showCounter:"showCounter",displayCount:"displayCount",products:"products"},outputs:{productClick:"productClick",recommendedProductAdded:"recommendedProductAdded",isValid:"isValid"},decls:2,vars:1,consts:[[1,"row","d-flex","justify-content-between","align-items-center","mt-4","horizontal-scroll"],["class","col-11 col-sm-6 col-md-3 col-lg-2 text-center d-flex mt-3 recommended-product",4,"ngFor","ngForOf"],[1,"col-11","col-sm-6","col-md-3","col-lg-2","text-center","d-flex","mt-3","recommended-product"],[1,"mobile","pointer",3,"click"],[1,"d-flex"],[1,"img-fluid","img",3,"src"],[1,"mobile-right"],[1,"row","j-center"],["class","j-center",4,"ngIf"],[1,"fs-16","tyros","one-line"],[1,"fs-18","tyros-reg"],[1,"small-grey-font"],[4,"ngIf"],["class","btn btn-primary btn-block",3,"disabled","click",4,"ngIf"],["class","fs-12 avenir-light fab pt-2 px-2",4,"ngIf"],[1,"j-center"],["class","d-flex",4,"ngIf"],["type","button","class","btn btn-transparent btn-no-border mr-2","placement","top","ngbPopover","This item is available for your dates.","popoverTitle","Available",4,"ngIf"],["type","button","class","btn btn-transparent btn-no-border mr-2","placement","top","popoverTitle","Available",3,"ngbPopover",4,"ngIf"],["type","button","placement","top","ngbPopover","This item is available for your dates.","popoverTitle","Available",1,"btn","btn-transparent","btn-no-border","mr-2"],["src","assets/images/available-green.svg",1,"pointer"],["type","button","placement","top","popoverTitle","Available",1,"btn","btn-transparent","btn-no-border","mr-2",3,"ngbPopover"],["type","button","class","btn btn-transparent btn-no-border mr-2","placement","top","popoverTitle","Not Available",3,"ngbPopover",4,"ngIf"],["type","button","class","btn btn-transparent btn-no-border mr-2","placement","top","ngbPopover","This item is not available for your dates in the requested quantity.","popoverTitle","Not Available",4,"ngIf"],["type","button","placement","top","popoverTitle","Not Available",1,"btn","btn-transparent","btn-no-border","mr-2",3,"ngbPopover"],["src","assets/images/alert-orange.svg",1,"pointer"],["type","button","placement","top","ngbPopover","This item is not available for your dates in the requested quantity.","popoverTitle","Not Available",1,"btn","btn-transparent","btn-no-border","mr-2"],["type","button","class","btn btn-transparent btn-no-border mr-2","placement","top","popoverTitle","Delayed",3,"ngbPopover",4,"ngIf"],["type","button","class","btn btn-transparent btn-no-border mr-2","placement","top","ngbPopover","This item is available for your dates, however it may be delayed in being delivered.","popoverTitle","Delayed",4,"ngIf"],["type","button","placement","top","popoverTitle","Delayed",1,"btn","btn-transparent","btn-no-border","mr-2",3,"ngbPopover"],["src","assets/images/alert.svg",1,"pointer"],["type","button","placement","top","ngbPopover","This item is available for your dates, however it may be delayed in being delivered.","popoverTitle","Delayed",1,"btn","btn-transparent","btn-no-border","mr-2"],[1,"count-center",3,"counter","disabled","counterChange"],[1,"btn","btn-primary","btn-block",3,"disabled","click"],[1,"fs-12","avenir-light","fab","pt-2","px-2"]],template:function RecommendedProductCarousel_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Ad(1,RecommendedProductCarousel_div_1_Template,18,10,"div",1),core.Sc()),2&rf&&(core.Bc(1),core.ld("ngForOf",ctx.products))},directives:[common.l,btn_love_component.a,common.m,ng_bootstrap.B,counter_component.a],pipes:[common.e],styles:[".img[_ngcontent-%COMP%]{min-height:150px;max-height:150px}.img[_ngcontent-%COMP%], .img2[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.img2[_ngcontent-%COMP%]{min-height:35px!important;max-height:40px!important}.pointer[_ngcontent-%COMP%]{cursor:pointer}.discover[_ngcontent-%COMP%]{display:none!important}app-btn-love[_ngcontent-%COMP%]{padding-top:1rem}.btn[_ngcontent-%COMP%]{font-size:10px}.small-grey-font[_ngcontent-%COMP%]{color:#c4c4c4;font-size:10px;font-family:AvenirLTStd-Light}.one-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:clip}.recommended-product[_ngcontent-%COMP%]{min-height:290px;justify-content:start!important}.count-center[_ngcontent-%COMP%]{display:inline-block}.horizontal-scroll[_ngcontent-%COMP%]{width:auto;max-width:auto;min-width:auto;overflow-y:auto;overflow-x:scroll}.primary[_ngcontent-%COMP%]{color:#fab900!important}.black[_ngcontent-%COMP%]{color:#363636}.j-center[_ngcontent-%COMP%]{justify-content:center!important}@media (max-width:575px){.mobile[_ngcontent-%COMP%]{display:flex;margin:1rem 0}img[_ngcontent-%COMP%]{width:auto}.mobile-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding-left:2rem}.small-grey-font[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:.4rem}.btn[_ngcontent-%COMP%]{width:145px;height:34px;font-size:12px}.discover[_ngcontent-%COMP%]{display:contents!important;display:flex;text-align:center}}"]});class recommended_accessories_component_RecommendedAccessoriesComponent{constructor(modal,bookingService){this.modal=modal,this.bookingService=bookingService,this.accessoriesAdded=new core.x,this.accessoriesToAdd=[],this.valid=!0,this._accessories=[]}ngOnInit(){}set accessories(accessories){this._accessories=accessories,this._accessories.forEach(product=>product.quantity=0),this._accessories=this._accessories.filter(x=>"OPTIONAL"===x.type)}get accessories(){return this._accessories}recommendedProductAdded(product){if(product.quantity<=0)return void(this.accessoriesToAdd=this.accessoriesToAdd.filter(a=>a.id!==product.id));const exists=this.accessoriesToAdd.find(accessory=>accessory.id===product.id);exists?exists.quantity=product.quantity:this.accessoriesToAdd.push(product)}isValid(valid){this.valid=valid}nextClick(){this.accessoriesAdded.emit(this.accessoriesToAdd),this.modal.close(this.accessoriesToAdd)}}recommended_accessories_component_RecommendedAccessoriesComponent.\u0275fac=function RecommendedAccessoriesComponent_Factory(t){return new(t||recommended_accessories_component_RecommendedAccessoriesComponent)(core.Oc(ng_bootstrap.c),core.Oc(bookings_service.a))},recommended_accessories_component_RecommendedAccessoriesComponent.\u0275cmp=core.Ic({type:recommended_accessories_component_RecommendedAccessoriesComponent,selectors:[["app-recommended-accessories"]],inputs:{accessories:"accessories"},outputs:{accessoriesAdded:"accessoriesAdded"},decls:16,vars:5,consts:[[1,"modal-header","m-4","border-bottom-0"],["type","button","aria-label","Close",1,"close",3,"click"],["src","assets/images/close.svg"],[1,"modal-body","mx-5"],[1,"color-primary","text-center"],[1,"tyros-reg","fs-36","text-center"],[3,"displayCount","products","showAddToBooking","showCounter","isValid","recommendedProductAdded"],[1,"row","my-3"],[1,"col-lg-6","col-md-6","col-sm-12","col-xs-12","my-2"],[1,"btn","btn-outline-secondary","btn-lg","btn-block","grey","py-3",3,"click"],[1,"btn","btn-primary","btn-lg","btn-block","py-3",3,"disabled","click"]],template:function RecommendedAccessoriesComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function RecommendedAccessoriesComponent_Template_button_click_1_listener(){return ctx.modal.dismiss()}),core.Pc(2,"img",2),core.Sc(),core.Sc(),core.Tc(3,"div",3),core.Tc(4,"h4",4),core.Cd(5,"Recommended"),core.Sc(),core.Tc(6,"div",5),core.Cd(7,"Spares & Extras"),core.Sc(),core.Tc(8,"app-recommended-product-carousel",6),core.dd("isValid",function RecommendedAccessoriesComponent_Template_app_recommended_product_carousel_isValid_8_listener($event){return ctx.isValid($event)})("recommendedProductAdded",function RecommendedAccessoriesComponent_Template_app_recommended_product_carousel_recommendedProductAdded_8_listener($event){return ctx.recommendedProductAdded($event)}),core.Sc(),core.Tc(9,"div",7),core.Tc(10,"div",8),core.Tc(11,"button",9),core.dd("click",function RecommendedAccessoriesComponent_Template_button_click_11_listener(){return ctx.modal.dismiss()}),core.Cd(12," NO THANKS "),core.Sc(),core.Sc(),core.Tc(13,"div",8),core.Tc(14,"button",10),core.dd("click",function RecommendedAccessoriesComponent_Template_button_click_14_listener(){return ctx.nextClick()}),core.Cd(15," CONTINUE "),core.Sc(),core.Sc(),core.Sc(),core.Sc()),2&rf&&(core.Bc(8),core.ld("displayCount",3)("products",ctx.accessories)("showAddToBooking",!1)("showCounter",!0),core.Bc(6),core.ld("disabled",!ctx.valid))},directives:[recommended_product_carousel_component_RecommendedProductCarousel],styles:['h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;text-align:center;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:24px;line-height:34px;color:#fab900}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:500;font-size:20px;line-height:28px;color:#19303b}.p-style-1[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-weight:400;font-size:26px;line-height:34px;letter-spacing:.117321px}.p-style-1[_ngcontent-%COMP%], .p-style-3[_ngcontent-%COMP%]{font-style:normal;color:#363636}.p-style-3[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-weight:800;font-size:18px;line-height:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:1rem;list-style-type:"-";padding-inline-start:1ch}li[_ngcontent-%COMP%]::marker{color:#fab900;font-size:30px}']});var environment=__webpack_require__("AytR");class Product{constructor(){this.accessories=[],this.images=[],this.attachments=[],this.rates=[],this.availabilityState="",this.features="",this.faqs=[],this.isAvailable=!1,this.addedToBooking=!1,this.quantity=1,this.type="Product"}}var http_service=__webpack_require__("bUwk");class product_service_ProductService{constructor(baseHref,httpService){this.baseHref=baseHref,this.httpService=httpService,this.baseUrl="https://zu6wjlgc49.execute-api.eu-west-1.amazonaws.com/staging/api/v1/products"}getProductById(id){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{const data=(yield this.httpService.get(`${this.baseUrl}/${id}`)).data,product=new Product;if(product.id=data.id,product.slug=data.seoFriendlyName||data.slug||data.name,product.name=data.name,product.tagline=data.tagline,product.description=data.description,product.imageThumbnail=data.imageThumbnail,product.images=data.images,product.attachments=data.attachments,product.productGroup=data.productGroup,product.isAvailable=!0,product.rates=data.rates,product.type=data.type,product.features=data.features,product.seoFriendlyName=data.seoFriendlyName,product.seoMetaDescription=data.seoMetaDescription,product.productGroupSlug=data.productGroupSlug,product.productSlug=data.productSlug,product.faqs=[],data.faqs){const paragraphs=11;for(let k=1;k<paragraphs;k++)data.faqs[`paragraph${k}`]&&product.faqs.push({id:k+"",question:data.faqs[`paragraph${k}`].head,content:data.faqs[`paragraph${k}`].paragraph})}const rate=data.rates.find(r=>"Daily"===r.chargePeriod);product.price=rate?Number(rate.price):0;return{product:product,accessories:data.accessories.map(a=>{const rate=a.rates.find(r=>"Daily"===r.chargePeriod);let price=0;return rate&&(price=Number(rate.price)),a.images&&a.images.length>0&&(a.imageThumbnail=a.images[0]),Object.assign(Object.assign({},a),{price:price})})}}catch(err){throw console.log(err),new Error("Failed to get product")}})}getProductBySlug(productGroupSlug,productSlug){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){try{const data=yield this.httpService.get(`${environment.a.apiBaseUrl}/products/${productGroupSlug}/${productSlug}`),product=new Product;if(product.id=data.id,product.slug=data.seoFriendlyName||data.slug||data.name,product.name=data.name,product.tagline=data.tagline,product.description=data.description,product.imageThumbnail=data.imageThumbnail,product.images=data.images,product.attachments=data.attachments,product.productGroup=data.productGroup,product.isAvailable=!0,product.rates=data.rates,product.type=data.type,product.features=data.features,product.seoFriendlyName=data.seoFriendlyName,product.seoMetaDescription=data.seoMetaDescription,product.productGroupSlug=data.productGroupSlug,product.productSlug=data.productSlug,product.faqs=[],data.faqs){const paragraphs=11;for(let k=1;k<paragraphs;k++)data.faqs[`paragraph${k}`]&&product.faqs.push({id:k+"",question:data.faqs[`paragraph${k}`].head,content:data.faqs[`paragraph${k}`].paragraph})}const rate=data.rates.find(r=>"Daily"===r.chargePeriod);product.price=rate?Number(rate.price):0;return{product:product,accessories:data.accessories.map(a=>{const rate=a.rates.find(r=>"Daily"===r.chargePeriod);let price=0;return rate&&(price=Number(rate.price)),a.images&&a.images.length>0&&(a.imageThumbnail=a.images[0]),Object.assign(Object.assign({},a),{price:price})})}}catch(err){throw console.log(err),new Error("Failed to get product")}})}getRecommendedProducts(productGroupIds){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(0===productGroupIds.length)throw new Error("Product group IDs required");const response=yield this.httpService.get(`${this.baseUrl}/groups?q[recommended_by_product_group_ids_in]=${productGroupIds.join(",")}`);if(!response.data)throw new Error("No recommended products");return response.data.map(p=>{const product=new Product;return product.id=p.id,product.slug=p.slug,product.name=p.name,product.summary="The most fun you can have on the Water! \nUp to 65 km/h of thrilling wave hopping!",product.overview="This watercraft is one of the easiest ways to get into the musclecraft scene. It comes with a powerful supercharged 230-hp Rotax engine and it is now equipped with the exclusive LinQ Quick-Attach System for cargo and the Bluetooth Audio System.",product.description=p.description,product.tagline=p.tagline,product.imageThumbnail=p.imageThumbnail,product.images=p.images,product.attachments=p.attachments,product.productGroup=p.productGroup,product.price=400,product.isAvailable=!0,product})})}getRecommendedWaterToysToRent(productGroupIds,search,deliveryLocationId,collectionLocationId,startsAt,endsAt){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){let queryParams="";if(search&&(queryParams=`${queryParams}search=${search}`),deliveryLocationId&&(queryParams=queryParams?`${queryParams}&delivery_location_id=${deliveryLocationId}`:`${queryParams}delivery_location_id=${deliveryLocationId}`),collectionLocationId&&(queryParams=queryParams?`${queryParams}&collection_location_id=${collectionLocationId}`:`${queryParams}collection_location_id=${collectionLocationId}`),startsAt&&(queryParams=queryParams?`${queryParams}&starts_at=${startsAt}`:`${queryParams}starts_at=${startsAt}`),endsAt&&(queryParams=queryParams?`${queryParams}&ends_at=${endsAt}`:`${queryParams}ends_at=${endsAt}`),0===productGroupIds.length)throw new Error("Product group IDs required");queryParams=queryParams?`${queryParams}&product_group_ids=${productGroupIds}`:`${queryParams}product_group_ids=${productGroupIds}`;const response=yield this.httpService.get(`${environment.a.apiBaseUrl}/products?${queryParams}`);if(!response.data)throw new Error("Water Toys not found");return response.data.forEach(product=>{const rate=product.rates.find(r=>1===r.storeId);rate&&(product.price=Number(rate.price))}),response.data})}getRecommendedWaterToys(productGroupIds){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){let queryParams="";if(0===productGroupIds.length)throw new Error("Product group IDs required");queryParams=queryParams?`${queryParams}&product_group_ids=${productGroupIds}`:`${queryParams}product_group_ids=${productGroupIds}`;const response=yield this.httpService.get(`${environment.a.apiBaseUrl}/products/recommended?${queryParams}`);if(!response.data)throw new Error("Water Toys not found");return response.data.forEach(product=>{const rate=product.rental_rate;rate&&(product.price=Number(rate.price))}),response.data})}}product_service_ProductService.\u0275fac=function ProductService_Factory(t){return new(t||product_service_ProductService)(core.ad(common.a),core.ad(http_service.a))},product_service_ProductService.\u0275prov=core.Kc({token:product_service_ProductService,factory:product_service_ProductService.\u0275fac,providedIn:"root"});var location_service=__webpack_require__("JEiN");class add_component_AddComponent{constructor(activatedRoute,bookingService,modalService,productService,locationService,router){this.activatedRoute=activatedRoute,this.bookingService=bookingService,this.modalService=modalService,this.productService=productService,this.locationService=locationService,this.router=router,this.accessories=[]}ngOnInit(){this.activatedRoute.queryParams.subscribe(params=>Object(tslib.__awaiter)(this,void 0,void 0,function*(){const bookingId=params.booking_id,productId=params.product_id;if(this.redirectUrl=params.redirect_url,this.booking=this.bookingService.getBookingById(bookingId),!this.booking)return void alert(`Booking not found by ID: ${bookingId}`);let p=this.booking.products.find(p=>p.id==productId);if(!p)return void alert(`Product not found by ID: ${productId}`);const response=yield this.productService.getProductById(p.id);if(this.product=response.product,this.product.quantity=p.quantity||1,this.accessories=response.accessories,Object.keys(p).length!==Object.keys(this.product).length){const locations=yield this.locationService.getLocations();this.booking.location.collection=locations.find(l=>{var _a,_b;return l.name===(null===(_b=null===(_a=this.booking)||void 0===_a?void 0:_a.location.collection)||void 0===_b?void 0:_b.name)}),this.booking.location.delivery=locations.find(l=>{var _a,_b;return l.name===(null===(_b=null===(_a=this.booking)||void 0===_a?void 0:_a.location.delivery)||void 0===_b?void 0:_b.name)});const accessories=p.accessories||[];this.bookingService.removeProduct(this.booking,p),this.bookingService.save(),this.product.accessories=accessories,this.bookingService.addToBooking(this.booking,this.product),this.bookingService.save()}this.openRecommendedAccessories()}))}openRecommendedAccessories(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const modal=this.modalService.open(recommended_accessories_component_RecommendedAccessoriesComponent,{size:"xl",scrollable:!0});modal.componentInstance.accessories=this.accessories;try{const accessoriesToAdd=yield modal.result;yield this.bookingService.addAccessories(this.booking,this.product,accessoriesToAdd),this.router.navigate(["bookings","recently-added"])}catch(err){this.router.navigate(["bookings","recently-added"])}})}}add_component_AddComponent.\u0275fac=function AddComponent_Factory(t){return new(t||add_component_AddComponent)(core.Oc(fesm2015_router.a),core.Oc(bookings_service.a),core.Oc(ng_bootstrap.t),core.Oc(product_service_ProductService),core.Oc(location_service.a),core.Oc(fesm2015_router.c))},add_component_AddComponent.\u0275cmp=core.Ic({type:add_component_AddComponent,selectors:[["app-add"]],decls:5,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col"],[1,"text-center"]],template:function AddComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"div",1),core.Tc(2,"div",2),core.Tc(3,"p",3),core.Cd(4,"Loading..."),core.Sc(),core.Sc(),core.Sc(),core.Sc())},styles:[""]});var appstrax_ng_auth=__webpack_require__("lT51");function LoginModalComponent_h6_18_Template(rf,ctx){if(1&rf&&(core.Tc(0,"h6",16),core.Cd(1),core.Sc()),2&rf){const ctx_r0=core.fd();core.Bc(1),core.Ed(" ",ctx_r0.error," ")}}class login_modal_component_LoginModalComponent{constructor(modal,ngAuthService){this.modal=modal,this.ngAuthService=ngAuthService,this.authRequest={email:"",password:""},this.loading=!1,this.error=null}ngOnInit(){}login(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){this.loading=!0,this.error=null;try{const user=yield this.ngAuthService.login(this.authRequest);this.modal.close(user)}catch(err){this.error="Failed to login, please try again or contact support."}this.loading=!1})}dismissToSignup(){this.modal.dismiss("signup")}}function SignUpModalComponent_h6_22_Template(rf,ctx){if(1&rf&&(core.Tc(0,"h6",18),core.Cd(1),core.Sc()),2&rf){const ctx_r0=core.fd();core.Bc(1),core.Ed(" ",ctx_r0.error," ")}}login_modal_component_LoginModalComponent.\u0275fac=function LoginModalComponent_Factory(t){return new(t||login_modal_component_LoginModalComponent)(core.Oc(ng_bootstrap.c),core.Oc(appstrax_ng_auth.b))},login_modal_component_LoginModalComponent.\u0275cmp=core.Ic({type:login_modal_component_LoginModalComponent,selectors:[["app-login-modal"]],decls:23,vars:7,consts:[[1,"modal-header","m-4","border-bottom-0"],["type","button","aria-label","Close",1,"close",3,"click"],["src","assets/images/close.svg"],[1,"modal-body"],[1,"container","mb-5","pb-5"],[1,"row","justify-content-center"],[1,"col-sm-12","col-md-12","col-lg-6"],[3,"submit"],[1,"form-group","mt-4"],["name","email","type","email","placeholder","Email",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"form-group"],["name","password","type","password","placeholder","Password",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"btn","btn-primary","btn-lg","btn-block","py-3",3,"disabled"],["class","mt-3 red",4,"ngIf"],[1,"mt-3"],[1,"btn","btn-link",3,"click"],[1,"mt-3","red"]],template:function LoginModalComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function LoginModalComponent_Template_button_click_1_listener(){return ctx.modal.dismiss()}),core.Pc(2,"img",2),core.Sc(),core.Sc(),core.Tc(3,"div",3),core.Tc(4,"div",4),core.Tc(5,"h4"),core.Cd(6,"Welcome Back"),core.Sc(),core.Tc(7,"h2"),core.Cd(8,"Log In"),core.Sc(),core.Tc(9,"div",5),core.Tc(10,"div",6),core.Tc(11,"form",7),core.dd("submit",function LoginModalComponent_Template_form_submit_11_listener(){return ctx.login()}),core.Tc(12,"div",8),core.Tc(13,"input",9),core.dd("ngModelChange",function LoginModalComponent_Template_input_ngModelChange_13_listener($event){return ctx.authRequest.email=$event}),core.Sc(),core.Sc(),core.Tc(14,"div",10),core.Tc(15,"input",11),core.dd("ngModelChange",function LoginModalComponent_Template_input_ngModelChange_15_listener($event){return ctx.authRequest.password=$event}),core.Sc(),core.Sc(),core.Tc(16,"button",12),core.Cd(17),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Ad(18,LoginModalComponent_h6_18_Template,2,1,"h6",13),core.Tc(19,"h6",14),core.Cd(20," Don't have an account? "),core.Tc(21,"button",15),core.dd("click",function LoginModalComponent_Template_button_click_21_listener(){return ctx.dismissToSignup()}),core.Cd(22,"Register"),core.Sc(),core.Sc(),core.Sc(),core.Sc()),2&rf&&(core.Bc(13),core.ld("disabled",ctx.loading)("ngModel",ctx.authRequest.email),core.Bc(2),core.ld("disabled",ctx.loading)("ngModel",ctx.authRequest.password),core.Bc(1),core.ld("disabled",ctx.loading),core.Bc(1),core.Ed(" ",ctx.loading?"Loading...":"Log in"," "),core.Bc(1),core.ld("ngIf",ctx.error))},directives:[fesm2015_forms.s,fesm2015_forms.k,fesm2015_forms.l,fesm2015_forms.b,fesm2015_forms.j,fesm2015_forms.m,common.m],styles:["h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600;text-align:center}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:24px;line-height:34px;color:#fab900}h6[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:700;font-size:16px;line-height:26px;text-align:center}input[_ngcontent-%COMP%]{height:48px;max-height:48px}.form-control[_ngcontent-%COMP%]{min-height:50px;border:1px solid #363636;box-sizing:border-box;border-radius:2px}.btn.btn-link[_ngcontent-%COMP%]{color:#fab900;padding:0}.red[_ngcontent-%COMP%]{color:red}"]});class sign_up_modal_component_SignUpModalComponent{constructor(modal,ngAuthService){this.modal=modal,this.ngAuthService=ngAuthService,this.registrationRequest={firstName:"",lastName:"",email:"",password:""},this.passwordOne="",this.loading=!1,this.error=null}ngOnInit(){}signup(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(this.error=null,this.isEmailValid(this.registrationRequest.email))if(this.passwordOne===this.registrationRequest.password){this.loading=!0;try{this.registrationRequest.firstName=this.registrationRequest.email.split("@")[0];const user=yield this.ngAuthService.register(this.registrationRequest);this.modal.close(user)}catch(err){this.error="Failed to register, make sure you have entered a valid email address."}this.loading=!1}else this.error="Passwords need to match";else this.error="Please enter a valid email address"})}dismissToLogin(){this.modal.dismiss("login")}isEmailValid(email){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email)}}sign_up_modal_component_SignUpModalComponent.\u0275fac=function SignUpModalComponent_Factory(t){return new(t||sign_up_modal_component_SignUpModalComponent)(core.Oc(ng_bootstrap.c),core.Oc(appstrax_ng_auth.b))},sign_up_modal_component_SignUpModalComponent.\u0275cmp=core.Ic({type:sign_up_modal_component_SignUpModalComponent,selectors:[["app-sign-up-modal"]],decls:27,vars:9,consts:[[1,"modal-header","m-4","border-bottom-0"],["type","button","aria-label","Close",1,"close",3,"click"],["src","assets/images/close.svg"],[1,"modal-body"],[1,"container"],[1,"text-center"],[1,"row"],[1,"col-lg-12","justify-content-center"],[3,"submit"],[1,"form-group","mt-3"],["name","email","type","email","placeholder","Email",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"form-group"],["type","password","name","password-one","placeholder","Password",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","password","name","password-two","placeholder","Repeat Password",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","py-3",3,"disabled"],["class","mt-3 red",4,"ngIf"],[1,"mt-3","text-center"],[1,"btn","btn-link",3,"click"],[1,"mt-3","red"]],template:function SignUpModalComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function SignUpModalComponent_Template_button_click_1_listener(){return ctx.modal.dismiss()}),core.Pc(2,"img",2),core.Sc(),core.Sc(),core.Tc(3,"div",3),core.Tc(4,"div",4),core.Tc(5,"h4"),core.Cd(6,"Sign Up"),core.Sc(),core.Tc(7,"h2"),core.Cd(8,"Create an Account"),core.Sc(),core.Tc(9,"h6",5),core.Cd(10,"Sign up with Email"),core.Sc(),core.Tc(11,"div",6),core.Tc(12,"div",7),core.Tc(13,"form",8),core.dd("submit",function SignUpModalComponent_Template_form_submit_13_listener(){return ctx.signup()}),core.Tc(14,"div",9),core.Tc(15,"input",10),core.dd("ngModelChange",function SignUpModalComponent_Template_input_ngModelChange_15_listener($event){return ctx.registrationRequest.email=$event}),core.Sc(),core.Sc(),core.Tc(16,"div",11),core.Tc(17,"input",12),core.dd("ngModelChange",function SignUpModalComponent_Template_input_ngModelChange_17_listener($event){return ctx.passwordOne=$event}),core.Sc(),core.Sc(),core.Tc(18,"div",11),core.Tc(19,"input",13),core.dd("ngModelChange",function SignUpModalComponent_Template_input_ngModelChange_19_listener($event){return ctx.registrationRequest.password=$event}),core.Sc(),core.Sc(),core.Tc(20,"button",14),core.Cd(21),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Ad(22,SignUpModalComponent_h6_22_Template,2,1,"h6",15),core.Tc(23,"h6",16),core.Cd(24," Already have an account? "),core.Tc(25,"button",17),core.dd("click",function SignUpModalComponent_Template_button_click_25_listener(){return ctx.dismissToLogin()}),core.Cd(26,"Login"),core.Sc(),core.Sc(),core.Sc(),core.Sc()),2&rf&&(core.Bc(15),core.ld("disabled",ctx.loading)("ngModel",ctx.registrationRequest.email),core.Bc(2),core.ld("disabled",ctx.loading)("ngModel",ctx.passwordOne),core.Bc(2),core.ld("disabled",ctx.loading)("ngModel",ctx.registrationRequest.password),core.Bc(1),core.ld("disabled",ctx.loading),core.Bc(1),core.Ed(" ",ctx.loading?"Loading...":"Sign Up"," "),core.Bc(1),core.ld("ngIf",ctx.error))},directives:[fesm2015_forms.s,fesm2015_forms.k,fesm2015_forms.l,fesm2015_forms.b,fesm2015_forms.j,fesm2015_forms.m,common.m],styles:["h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600;text-align:center}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:24px;line-height:34px;color:#fab900}h6[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:700;font-size:16px;line-height:26px}input[_ngcontent-%COMP%]{height:48px;max-height:48px}.form-control[_ngcontent-%COMP%]{min-height:50px;border:1px solid #363636;box-sizing:border-box;border-radius:2px}.btn.btn-link[_ngcontent-%COMP%]{color:#fab900;padding:0}.red[_ngcontent-%COMP%]{color:red}.divider[_ngcontent-%COMP%]{min-height:84px;width:0;margin-top:0;margin-bottom:0}@media (max-width:575px){.divider[_ngcontent-%COMP%]{display:none}}"]});var availability_state=__webpack_require__("VG+p");function AddToBookingComponent_h4_8_Template(rf,ctx){1&rf&&(core.Tc(0,"h4",9),core.Cd(1,"Add to existing Booking"),core.Sc())}function AddToBookingComponent_hr_9_Template(rf,ctx){1&rf&&core.Pc(0,"hr")}function AddToBookingComponent_div_10_p_6_Template(rf,ctx){if(1&rf&&(core.Tc(0,"p",19),core.Cd(1),core.Sc()),2&rf){const b_r3=core.fd().$implicit;core.Bc(1),core.Ed(" ",b_r3.yachtName," ")}}function AddToBookingComponent_div_10_p_7_Template(rf,ctx){if(1&rf&&(core.Tc(0,"p",19),core.Cd(1),core.Sc()),2&rf){const i_r4=core.fd().index;core.Bc(1),core.Ed(" Booking # ",i_r4+1," ")}}function AddToBookingComponent_div_10_div_12_Template(rf,ctx){1&rf&&core.Pc(0,"div",20)}function AddToBookingComponent_div_10_Template(rf,ctx){if(1&rf){const _r11=core.Uc();core.Tc(0,"div",10),core.dd("click",function AddToBookingComponent_div_10_Template_div_click_0_listener(){core.vd(_r11);const b_r3=ctx.$implicit;return core.fd().bookingClick(b_r3)}),core.Tc(1,"div",11),core.Tc(2,"div",12),core.Tc(3,"div",13),core.Pc(4,"img",14),core.Sc(),core.Tc(5,"div",15),core.Ad(6,AddToBookingComponent_div_10_p_6_Template,2,1,"p",16),core.Ad(7,AddToBookingComponent_div_10_p_7_Template,2,1,"p",16),core.Tc(8,"p",17),core.Cd(9),core.Sc(),core.Tc(10,"p",17),core.Cd(11),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Ad(12,AddToBookingComponent_div_10_div_12_Template,1,0,"div",18),core.Sc()}if(2&rf){const b_r3=ctx.$implicit,i_r4=ctx.index,ctx_r2=core.fd();core.Bc(6),core.ld("ngIf",b_r3.yachtName),core.Bc(1),core.ld("ngIf",!b_r3.yachtName),core.Bc(2),core.Fd(" ",null==b_r3.location||null==b_r3.location.collection?null:b_r3.location.collection.name," - ",null==b_r3.location||null==b_r3.location.delivery?null:b_r3.location.delivery.name," "),core.Bc(2),core.Hd(" ",null==b_r3.period||null==b_r3.period.fromDate?null:b_r3.period.fromDate.day,".",null==b_r3.period||null==b_r3.period.fromDate?null:b_r3.period.fromDate.month,".",null==b_r3.period||null==b_r3.period.fromDate?null:b_r3.period.fromDate.year," - ",null==b_r3.period||null==b_r3.period.toDate?null:b_r3.period.toDate.day,".",null==b_r3.period||null==b_r3.period.toDate?null:b_r3.period.toDate.month,".",null==b_r3.period||null==b_r3.period.toDate?null:b_r3.period.toDate.year," "),core.Bc(1),core.ld("ngIf",i_r4+1!==ctx_r2.bookings.length)}}class AddToBookingComponent{constructor(modal){this.modal=modal,this.bookings=[]}ngOnInit(){}bookingClick(booking){this.modal.close(booking)}}AddToBookingComponent.\u0275fac=function AddToBookingComponent_Factory(t){return new(t||AddToBookingComponent)(core.Oc(ng_bootstrap.c))},AddToBookingComponent.\u0275cmp=core.Ic({type:AddToBookingComponent,selectors:[["app-add-to-booking"]],decls:11,vars:3,consts:[[1,"modal-header","m-4","border-bottom-0"],["type","button","aria-label","Close",1,"close",3,"click"],["src","assets/images/close.svg"],[1,"modal-body"],[1,"text-center"],[1,"btn","btn-shadow","btn-transparent","btn-lg","btn-block","py-3","my-3",3,"click"],["class","text-center mt-3",4,"ngIf"],[4,"ngIf"],["class","pointer px-0",3,"click",4,"ngFor","ngForOf"],[1,"text-center","mt-3"],[1,"pointer","px-0",3,"click"],[1,"container-fluid"],[1,"row"],[1,"col-2","align-self-center","pr-0"],["src","assets/images/fish-orange.svg",1,"pl-2"],[1,"col-10","pl-0"],["class","p-style-4 pb-0 mb-0",4,"ngIf"],[1,"p-style-2","pb-0","mb-0"],["class","dropdown-divider",4,"ngIf"],[1,"p-style-4","pb-0","mb-0"],[1,"dropdown-divider"]],template:function AddToBookingComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function AddToBookingComponent_Template_button_click_1_listener(){return ctx.modal.dismiss()}),core.Pc(2,"img",2),core.Sc(),core.Sc(),core.Tc(3,"div",3),core.Tc(4,"h4",4),core.Cd(5,"Add to a Booking"),core.Sc(),core.Tc(6,"button",5),core.dd("click",function AddToBookingComponent_Template_button_click_6_listener(){return ctx.modal.dismiss("create-booking")}),core.Cd(7," Create a New Booking "),core.Sc(),core.Ad(8,AddToBookingComponent_h4_8_Template,2,0,"h4",6),core.Ad(9,AddToBookingComponent_hr_9_Template,1,0,"hr",7),core.Ad(10,AddToBookingComponent_div_10_Template,13,11,"div",8),core.Sc()),2&rf&&(core.Bc(8),core.ld("ngIf",ctx.bookings.length>0),core.Bc(1),core.ld("ngIf",ctx.bookings.length>0),core.Bc(1),core.ld("ngForOf",ctx.bookings))},directives:[common.m,common.l],styles:['h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600;text-align:center}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:16px;line-height:22px}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:500;font-size:20px;line-height:28px;color:#19303b}.p-style-1[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-weight:400;font-size:26px;line-height:34px;letter-spacing:.117321px}.p-style-1[_ngcontent-%COMP%], .p-style-3[_ngcontent-%COMP%]{font-style:normal;color:#363636}.p-style-3[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-weight:800;font-size:18px;line-height:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:1rem;list-style-type:"-";padding-inline-start:1ch}li[_ngcontent-%COMP%]::marker{color:#fab900;font-size:30px}.btn.btn-shadow[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:3px}']});var location_select_component=__webpack_require__("cF+p");function DropOffLocationComponent_button_13_Template(rf,ctx){if(1&rf){const _r6=core.Uc();core.Tc(0,"button",13),core.dd("click",function DropOffLocationComponent_button_13_Template_button_click_0_listener(){core.vd(_r6);return core.fd().sameAsPickUp()}),core.Cd(1," Same as Pick Up "),core.Sc()}}function DropOffLocationComponent_h4_14_Template(rf,ctx){1&rf&&(core.Tc(0,"h4",8),core.Cd(1," Popular Mediterranean Ports "),core.Sc())}function DropOffLocationComponent_div_15_button_1_Template(rf,ctx){if(1&rf){const _r10=core.Uc();core.Tc(0,"button",16),core.dd("click",function DropOffLocationComponent_div_15_button_1_Template_button_click_0_listener(){core.vd(_r10);const location_r8=ctx.$implicit;return core.fd(2).modal.close(location_r8)}),core.Cd(1),core.Sc()}if(2&rf){const location_r8=ctx.$implicit,ctx_r7=core.fd(2);core.Gc("btn-outline-secondary",location_r8.name!==(null==ctx_r7.dropOffLocation?null:ctx_r7.dropOffLocation.name))("btn-secondary",location_r8.name===(null==ctx_r7.dropOffLocation?null:ctx_r7.dropOffLocation.name)),core.Bc(1),core.Ed(" ",location_r8.name," ")}}function DropOffLocationComponent_div_15_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",14),core.Ad(1,DropOffLocationComponent_div_15_button_1_Template,2,5,"button",15),core.Sc()),2&rf){const ctx_r2=core.fd();core.Bc(1),core.ld("ngForOf",ctx_r2.popularMediterraneanPorts)}}function DropOffLocationComponent_h4_16_Template(rf,ctx){1&rf&&(core.Tc(0,"h4",8),core.Cd(1,"Popular Caribbean Ports"),core.Sc())}function DropOffLocationComponent_div_17_button_1_Template(rf,ctx){if(1&rf){const _r14=core.Uc();core.Tc(0,"button",16),core.dd("click",function DropOffLocationComponent_div_17_button_1_Template_button_click_0_listener(){core.vd(_r14);const location_r12=ctx.$implicit;return core.fd(2).modal.close(location_r12)}),core.Cd(1),core.Sc()}if(2&rf){const location_r12=ctx.$implicit,ctx_r11=core.fd(2);core.Gc("btn-outline-secondary",location_r12.name!==(null==ctx_r11.dropOffLocation?null:ctx_r11.dropOffLocation.name))("btn-secondary",location_r12.name===(null==ctx_r11.dropOffLocation?null:ctx_r11.dropOffLocation.name)),core.Bc(1),core.Ed(" ",location_r12.name," ")}}function DropOffLocationComponent_div_17_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",14),core.Ad(1,DropOffLocationComponent_div_17_button_1_Template,2,5,"button",15),core.Sc()),2&rf){const ctx_r4=core.fd();core.Bc(1),core.ld("ngForOf",ctx_r4.popularCaribbeanPorts)}}class DropOffLocationComponent{constructor(modal){this.modal=modal,this.locations=[],this.popularMediterraneanPorts=[],this.popularCaribbeanPorts=[]}ngOnInit(){}sameAsPickUp(){this.modal.close(this.pickUpLocation)}}function PickUpLocationComponent_h4_13_Template(rf,ctx){1&rf&&(core.Tc(0,"h4",8),core.Cd(1," Popular Mediterranean Ports "),core.Sc())}function PickUpLocationComponent_div_14_button_1_Template(rf,ctx){if(1&rf){const _r7=core.Uc();core.Tc(0,"button",14),core.dd("click",function PickUpLocationComponent_div_14_button_1_Template_button_click_0_listener(){core.vd(_r7);const location_r5=ctx.$implicit;return core.fd(2).modal.close(location_r5)}),core.Cd(1),core.Sc()}if(2&rf){const location_r5=ctx.$implicit,ctx_r4=core.fd(2);core.Gc("btn-outline-secondary",location_r5.name!==(null==ctx_r4.pickUpLocation?null:ctx_r4.pickUpLocation.name))("btn-secondary",location_r5.name===(null==ctx_r4.pickUpLocation?null:ctx_r4.pickUpLocation.name)),core.Bc(1),core.Ed(" ",location_r5.name," ")}}function PickUpLocationComponent_div_14_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",12),core.Ad(1,PickUpLocationComponent_div_14_button_1_Template,2,5,"button",13),core.Sc()),2&rf){const ctx_r1=core.fd();core.Bc(1),core.ld("ngForOf",ctx_r1.popularMediterraneanPorts)}}function PickUpLocationComponent_h4_15_Template(rf,ctx){1&rf&&(core.Tc(0,"h4",8),core.Cd(1,"Popular Caribbean Ports"),core.Sc())}function PickUpLocationComponent_div_16_button_1_Template(rf,ctx){if(1&rf){const _r11=core.Uc();core.Tc(0,"button",14),core.dd("click",function PickUpLocationComponent_div_16_button_1_Template_button_click_0_listener(){core.vd(_r11);const location_r9=ctx.$implicit;return core.fd(2).modal.close(location_r9)}),core.Cd(1),core.Sc()}if(2&rf){const location_r9=ctx.$implicit,ctx_r8=core.fd(2);core.Gc("btn-outline-secondary",location_r9.name!==(null==ctx_r8.pickUpLocation?null:ctx_r8.pickUpLocation.name))("btn-secondary",location_r9.name===(null==ctx_r8.pickUpLocation?null:ctx_r8.pickUpLocation.name)),core.Bc(1),core.Ed(" ",location_r9.name," ")}}function PickUpLocationComponent_div_16_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",12),core.Ad(1,PickUpLocationComponent_div_16_button_1_Template,2,5,"button",13),core.Sc()),2&rf){const ctx_r3=core.fd();core.Bc(1),core.ld("ngForOf",ctx_r3.popularCaribbeanPorts)}}DropOffLocationComponent.\u0275fac=function DropOffLocationComponent_Factory(t){return new(t||DropOffLocationComponent)(core.Oc(ng_bootstrap.c))},DropOffLocationComponent.\u0275cmp=core.Ic({type:DropOffLocationComponent,selectors:[["app-drop-off-location"]],decls:18,vars:7,consts:[[1,"modal-header","m-4","border-bottom-0","d-flex","justify-content-between"],["type","button","aria-label","Close",1,"btn","btn-transparent","btn-no-border",3,"click"],["src","assets/images/mobile-back.svg"],["type","button","aria-label","Close",1,"close",3,"click"],["src","assets/images/close.svg"],[1,"modal-body"],[1,"text-center"],["label","DROP-OFF LOCATION",3,"locations","location","locationChange"],[1,"mt-3"],[1,"p-style-2"],["class","btn btn-secondary btn-block py-3",3,"click",4,"ngIf"],["class","mt-3",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"btn","btn-secondary","btn-block","py-3",3,"click"],[1,"row","justify-content-center"],["class","col-5 btn m-1 py-3",3,"btn-outline-secondary","btn-secondary","click",4,"ngFor","ngForOf"],[1,"col-5","btn","m-1","py-3",3,"click"]],template:function DropOffLocationComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function DropOffLocationComponent_Template_button_click_1_listener(){return ctx.modal.dismiss("back")}),core.Pc(2,"img",2),core.Sc(),core.Tc(3,"button",3),core.dd("click",function DropOffLocationComponent_Template_button_click_3_listener(){return ctx.modal.dismiss()}),core.Pc(4,"img",4),core.Sc(),core.Sc(),core.Tc(5,"div",5),core.Tc(6,"h4",6),core.Cd(7,"Drop-Off Location"),core.Sc(),core.Tc(8,"app-location-select",7),core.dd("locationChange",function DropOffLocationComponent_Template_app_location_select_locationChange_8_listener($event){return ctx.modal.close($event)}),core.Sc(),core.Tc(9,"h4",8),core.Cd(10,"Where shall we pick up the Toy?"),core.Sc(),core.Tc(11,"p",9),core.Cd(12," Select a popular port or search for the most convenient one in the field above. "),core.Sc(),core.Ad(13,DropOffLocationComponent_button_13_Template,2,0,"button",10),core.Ad(14,DropOffLocationComponent_h4_14_Template,2,0,"h4",11),core.Ad(15,DropOffLocationComponent_div_15_Template,2,1,"div",12),core.Ad(16,DropOffLocationComponent_h4_16_Template,2,0,"h4",11),core.Ad(17,DropOffLocationComponent_div_17_Template,2,1,"div",12),core.Sc()),2&rf&&(core.Bc(8),core.ld("locations",ctx.locations)("location",ctx.dropOffLocation),core.Bc(5),core.ld("ngIf",ctx.pickUpLocation),core.Bc(1),core.ld("ngIf",ctx.popularMediterraneanPorts),core.Bc(1),core.ld("ngIf",ctx.popularMediterraneanPorts),core.Bc(1),core.ld("ngIf",ctx.popularCaribbeanPorts),core.Bc(1),core.ld("ngIf",ctx.popularCaribbeanPorts))},directives:[location_select_component.a,common.m,common.l],styles:['h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;text-align:center;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:16px;line-height:22px}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:500;font-size:10px;line-height:10px;color:#c4c4c4}.p-style-1[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-weight:400;font-size:26px;line-height:34px;color:#363636}.p-style-1[_ngcontent-%COMP%], .p-style-2[_ngcontent-%COMP%]{font-style:normal;letter-spacing:.117321px}.p-style-2[_ngcontent-%COMP%]{font-weight:300;line-height:22px;color:#000}.p-style-2[_ngcontent-%COMP%], .p-style-3[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-size:18px}.p-style-3[_ngcontent-%COMP%]{font-style:normal;font-weight:800;line-height:24px;color:#363636}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:1rem;list-style-type:"-";padding-inline-start:1ch}li[_ngcontent-%COMP%]::marker{color:#fab900;font-size:30px}.btn.btn-shadow[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:3px}.popular-port[_ngcontent-%COMP%]{border:1px solid #f8f8f8;border-radius:1px}']});class PickUpLocationComponent{constructor(modal){this.modal=modal,this.locations=[],this.popularMediterraneanPorts=[],this.popularCaribbeanPorts=[]}ngOnInit(){}bookingClick(booking){this.modal.close(booking)}}PickUpLocationComponent.\u0275fac=function PickUpLocationComponent_Factory(t){return new(t||PickUpLocationComponent)(core.Oc(ng_bootstrap.c))},PickUpLocationComponent.\u0275cmp=core.Ic({type:PickUpLocationComponent,selectors:[["app-pick-up-location"]],decls:17,vars:6,consts:[[1,"modal-header","m-4","border-bottom-0","d-flex","justify-content-between"],["type","button","aria-label","Close",1,"btn","btn-transparent","btn-no-border",3,"click"],["src","assets/images/mobile-back.svg"],["type","button","aria-label","Close",1,"close","btn-no-border",3,"click"],["src","assets/images/close.svg"],[1,"modal-body"],[1,"text-center"],["label","PICK-UP LOCATION",3,"locations","location","locationChange"],[1,"mt-3"],[1,"p-style-2"],["class","mt-3",4,"ngIf"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-center"],["class","col-5 btn m-1 py-3",3,"btn-outline-secondary","btn-secondary","click",4,"ngFor","ngForOf"],[1,"col-5","btn","m-1","py-3",3,"click"]],template:function PickUpLocationComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function PickUpLocationComponent_Template_button_click_1_listener(){return ctx.modal.dismiss("back")}),core.Pc(2,"img",2),core.Sc(),core.Tc(3,"button",3),core.dd("click",function PickUpLocationComponent_Template_button_click_3_listener(){return ctx.modal.dismiss()}),core.Pc(4,"img",4),core.Sc(),core.Sc(),core.Tc(5,"div",5),core.Tc(6,"h4",6),core.Cd(7,"Pick-Up Location"),core.Sc(),core.Tc(8,"app-location-select",7),core.dd("locationChange",function PickUpLocationComponent_Template_app_location_select_locationChange_8_listener($event){return ctx.modal.close($event)}),core.Sc(),core.Tc(9,"h4",8),core.Cd(10,"Where shall we drop off the Toy?"),core.Sc(),core.Tc(11,"p",9),core.Cd(12," Select a popular port or search for the most convenient one in the field above. "),core.Sc(),core.Ad(13,PickUpLocationComponent_h4_13_Template,2,0,"h4",10),core.Ad(14,PickUpLocationComponent_div_14_Template,2,1,"div",11),core.Ad(15,PickUpLocationComponent_h4_15_Template,2,0,"h4",10),core.Ad(16,PickUpLocationComponent_div_16_Template,2,1,"div",11),core.Sc()),2&rf&&(core.Bc(8),core.ld("locations",ctx.locations)("location",ctx.pickUpLocation),core.Bc(5),core.ld("ngIf",ctx.popularMediterraneanPorts),core.Bc(1),core.ld("ngIf",ctx.popularMediterraneanPorts),core.Bc(1),core.ld("ngIf",ctx.popularCaribbeanPorts),core.Bc(1),core.ld("ngIf",ctx.popularCaribbeanPorts))},directives:[location_select_component.a,common.m,common.l],styles:['h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;text-align:center;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:16px;line-height:22px}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:500;font-size:10px;line-height:10px;color:#c4c4c4}.p-style-1[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-weight:400;font-size:26px;line-height:34px;color:#363636}.p-style-1[_ngcontent-%COMP%], .p-style-2[_ngcontent-%COMP%]{font-style:normal;letter-spacing:.117321px}.p-style-2[_ngcontent-%COMP%]{font-weight:300;line-height:22px;color:#000}.p-style-2[_ngcontent-%COMP%], .p-style-3[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-size:18px}.p-style-3[_ngcontent-%COMP%]{font-style:normal;font-weight:800;line-height:24px;color:#363636}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:1rem;list-style-type:"-";padding-inline-start:1ch}li[_ngcontent-%COMP%]::marker{color:#fab900;font-size:30px}.btn.btn-shadow[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:3px}.popular-port[_ngcontent-%COMP%]{border:1px solid #f8f8f8;border-radius:1px}']});class ProductFeaturesComponent{constructor(modal){this.modal=modal,this.title="Title",this.description="Long description...",this.highlights=["Highlight 1","Highlight 2"]}ngOnInit(){}}ProductFeaturesComponent.\u0275fac=function ProductFeaturesComponent_Factory(t){return new(t||ProductFeaturesComponent)(core.Oc(ng_bootstrap.c))},ProductFeaturesComponent.\u0275cmp=core.Ic({type:ProductFeaturesComponent,selectors:[["app-product-features"]],inputs:{title:"title",description:"description",highlights:"highlights"},decls:10,vars:2,consts:[[1,"modal-header","m-4","border-bottom-0"],["type","button","aria-label","Close",1,"close",3,"click"],["src","assets/images/close.svg"],[1,"modal-body","px-5"],[1,"container"],[1,"mb-n1"],[1,"p-style-1","mt-5",3,"innerHTML"]],template:function ProductFeaturesComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function ProductFeaturesComponent_Template_button_click_1_listener(){return ctx.modal.dismiss()}),core.Pc(2,"img",2),core.Sc(),core.Sc(),core.Tc(3,"div",3),core.Tc(4,"div",4),core.Tc(5,"h4",5),core.Cd(6,"Features"),core.Sc(),core.Tc(7,"h2"),core.Cd(8),core.Sc(),core.Pc(9,"div",6),core.Sc(),core.Sc()),2&rf&&(core.Bc(8),core.Dd(ctx.title),core.Bc(1),core.ld("innerHTML",ctx.description,core.wd))},styles:['h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600;text-align:center}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:24px;line-height:34px;color:#fab900}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:500;font-size:20px;line-height:28px;color:#19303b}.p-style-1[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-weight:400;font-size:26px;line-height:34px;letter-spacing:.117321px}.p-style-1[_ngcontent-%COMP%], .p-style-3[_ngcontent-%COMP%]{font-style:normal;color:#363636}.p-style-3[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-weight:800;font-size:18px;line-height:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:1rem;list-style-type:"-";padding-inline-start:1ch}li[_ngcontent-%COMP%]::marker{color:#fab900;font-size:30px}']});var moment=__webpack_require__("wd/R"),booking_period_model=__webpack_require__("NkIx");const _c0=["datepicker"];function SelectDatesComponent_div_8_Template(rf,ctx){1&rf&&(core.Tc(0,"div",20),core.Tc(1,"div",21),core.Pc(2,"img",22),core.Sc(),core.Tc(3,"div",23),core.Tc(4,"h5",24),core.Cd(5,"Loading..."),core.Sc(),core.Tc(6,"p",25),core.Cd(7," We are checking availability for the chosen location, dates and quantity. "),core.Sc(),core.Sc(),core.Sc())}function SelectDatesComponent_div_9_div_1_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",20),core.Tc(1,"div",21),core.Pc(2,"img",22),core.Sc(),core.Tc(3,"div",23),core.Tc(4,"h5",24),core.Cd(5,"Not Available"),core.Sc(),core.Tc(6,"p",25),core.Cd(7),core.Sc(),core.Tc(8,"p",25),core.Cd(9," Please adjust location, dates or quantity to add this item to your booking! "),core.Sc(),core.Sc(),core.Sc()),2&rf){const ctx_r6=core.fd(2);core.Bc(7),core.Ed(" ",ctx_r6.availabilityState.notes," ")}}function SelectDatesComponent_div_9_div_2_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",20),core.Tc(1,"div",21),core.Pc(2,"img",22),core.Sc(),core.Tc(3,"div",23),core.Tc(4,"h5",24),core.Cd(5,"Delayed"),core.Sc(),core.Tc(6,"p",25),core.Cd(7),core.Sc(),core.Tc(8,"p",25),core.Cd(9," Please adjust location, dates or quantity to add this item to your booking! "),core.Sc(),core.Sc(),core.Sc()),2&rf){const ctx_r7=core.fd(2);core.Bc(7),core.Ed(" ",ctx_r7.availabilityState.notes," ")}}function SelectDatesComponent_div_9_div_3_Template(rf,ctx){1&rf&&(core.Tc(0,"div",20),core.Tc(1,"div",21),core.Pc(2,"img",26),core.Sc(),core.Tc(3,"div",23),core.Tc(4,"h5",27),core.Cd(5,"Available"),core.Sc(),core.Tc(6,"p",25),core.Cd(7," This item is available for your dates. "),core.Sc(),core.Sc(),core.Sc())}function SelectDatesComponent_div_9_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div"),core.Ad(1,SelectDatesComponent_div_9_div_1_Template,10,1,"div",7),core.Ad(2,SelectDatesComponent_div_9_div_2_Template,10,1,"div",7),core.Ad(3,SelectDatesComponent_div_9_div_3_Template,8,0,"div",7),core.Sc()),2&rf){const ctx_r1=core.fd();core.Bc(1),core.ld("ngIf","NOT_AVAILABLE"===ctx_r1.availabilityState.state),core.Bc(1),core.ld("ngIf","AVAILABLE_BUT_DELAYED"===ctx_r1.availabilityState.state),core.Bc(1),core.ld("ngIf","AVAILABLE"===ctx_r1.availabilityState.state)}}function SelectDatesComponent_ng_template_13_div_0_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",29),core.Tc(1,"h4"),core.Cd(2),core.Sc(),core.Pc(3,"ngb-datepicker-month",30),core.Sc()),2&rf){const month_r10=ctx.$implicit,ctx_r9=core.fd(2);core.Bc(2),core.Fd("",ctx_r9.i18n.getMonthFullName(month_r10.month)," ",month_r10.year,""),core.Bc(1),core.ld("month",month_r10)}}function SelectDatesComponent_ng_template_13_Template(rf,ctx){if(1&rf&&core.Ad(0,SelectDatesComponent_ng_template_13_div_0_Template,4,3,"div",28),2&rf){core.fd();const _r2=core.td(12);core.ld("ngForOf",_r2.state.months)}}function SelectDatesComponent_ng_template_14_Template(rf,ctx){if(1&rf){const _r14=core.Uc();core.Tc(0,"span",31),core.dd("mouseenter",function SelectDatesComponent_ng_template_14_Template_span_mouseenter_0_listener(){core.vd(_r14);const date_r11=ctx.$implicit;return core.fd().hoveredDate=date_r11})("mouseleave",function SelectDatesComponent_ng_template_14_Template_span_mouseleave_0_listener(){core.vd(_r14);return core.fd().hoveredDate=null}),core.Cd(1),core.Sc()}if(2&rf){const date_r11=ctx.$implicit,focused_r12=ctx.focused,ctx_r5=core.fd();core.Gc("focused",focused_r12)("range",ctx_r5.isRange(date_r11))("faded",ctx_r5.isHovered(date_r11)||ctx_r5.isInside(date_r11))("unavailable",ctx_r5.isUnavailable(date_r11))("first",ctx_r5.isFirst(date_r11))("last",ctx_r5.isLast(date_r11))("disabled",ctx_r5.isUnavailable(date_r11)),core.Bc(1),core.Ed(" ",date_r11.day," ")}}class select_dates_component_SelectDatesComponent{constructor(modal,calendar,formatter,bookingService,i18n){this.modal=modal,this.calendar=calendar,this.formatter=formatter,this.bookingService=bookingService,this.i18n=i18n,this.hoveredDate=null,this.loadingAvailabilityGraph=!1,this.loadingAvailability=!1,this.availabilityState=new availability_state.a,this.datesAvailable=[],this.minDate=calendar.getToday(),this.fromDate=calendar.getNext(calendar.getToday(),"d",1),this.toDate=calendar.getNext(calendar.getToday(),"d",10)}ngOnInit(){this.booking&&(this.booking.period.fromDate=this.fromDate,this.booking.period.toDate=this.toDate)}onDateSelection(date){this.fromDate||this.toDate?this.fromDate&&!this.toDate&&date&&date.after(this.fromDate)?(this.toDate=date,this.booking.period.toDate=this.toDate,this.checkGeneralAvailability()):(this.toDate=null,this.fromDate=date):(this.fromDate=date,this.booking.period.fromDate=this.fromDate)}isHovered(date){return this.fromDate&&!this.toDate&&this.hoveredDate&&date.after(this.fromDate)&&date.before(this.hoveredDate)}isInside(date){return this.toDate&&date.after(this.fromDate)&&date.before(this.toDate)}isRange(date){return date.equals(this.fromDate)||this.toDate&&date.equals(this.toDate)||this.isInside(date)||this.isHovered(date)}isFirst(date){var _a,_b,_c;return date.year===(null===(_a=this.fromDate)||void 0===_a?void 0:_a.year)&&date.month===(null===(_b=this.fromDate)||void 0===_b?void 0:_b.month)&&date.day===(null===(_c=this.fromDate)||void 0===_c?void 0:_c.day)}isLast(date){var _a,_b,_c;return date.year===(null===(_a=this.toDate)||void 0===_a?void 0:_a.year)&&date.month===(null===(_b=this.toDate)||void 0===_b?void 0:_b.month)&&date.day===(null===(_c=this.toDate)||void 0===_c?void 0:_c.day)}isUnavailable(date){const found=this.datesAvailable.find(d=>{var _a;return(null===(_a=d.date)||void 0===_a?void 0:_a.year)===date.year&&d.date.month===date.month&&d.date.day===date.day});return!!found&&!found.available}markDisabled(date){console.log(date)}validateInput(currentValue,input){const parsed=this.formatter.parse(input);return parsed&&this.calendar.isValid(ng_bootstrap.g.from(parsed))?ng_bootstrap.g.from(parsed):currentValue}addToBooking(){const response={fromDate:this.fromDate,toDate:this.toDate};this.modal.close(response)}isDisabled(){return!(!this.loadingAvailability&&!this.loadingAvailabilityGraph)||"AVAILABLE"!==this.availabilityState.state&&"AVAILABLE_BUT_DELAYED"!==this.availabilityState.state}checkGeneralAvailability(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(!this.product)return;if(!this.booking)return;if(!this.booking.period)return;if(!this.booking.period.fromDate)return;if(!this.booking.period.toDate)return;if(!this.booking.location)return;if(!this.booking.location.collection)return;if(!this.booking.location.delivery)return;const miniBooking=new booking_model.b;miniBooking.products=[this.product],miniBooking.period=this.booking.period,miniBooking.location=this.booking.location,this.loadingAvailability=!0;try{const availabilityResponse=yield this.bookingService.productsAvailability(miniBooking);if(availabilityResponse.products[0]&&availabilityResponse.products[0].id===this.product.id){const stockDetermination=availabilityResponse.products[0].stockDetermination;this.availabilityState={state:stockDetermination.availabilityState,notes:stockDetermination.note}}}catch(err){this.availabilityState={state:"NOT_AVAILABLE",notes:""}}this.loadingAvailability=!1})}navigate(current,next){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(!this.product)throw new Error("Product is required!");if(!this.booking)throw new Error("Booking is required!");this.checkGeneralAvailability(),this.loadingAvailabilityGraph=!0;let start=moment(),end=moment(next);current&&(start=moment(current));const period=new booking_period_model.a;start.isBefore(end)?(period.start=start.startOf("month").utc().format("YYYY-MM-DDTHH:mm:ss.000+0000"),period.end=end.endOf("month").utc().format("YYYY-MM-DDTHH:mm:ss.000+0000")):(period.start=end.startOf("month").utc().format("YYYY-MM-DDTHH:mm:ss.000+0000"),period.end=start.endOf("month").utc().format("YYYY-MM-DDTHH:mm:ss.000+0000"));try{const graph=yield this.bookingService.availabilityGraph(this.product,period,this.booking.location);this.datesAvailable=graph.availabilityGraph.map(ag=>({date:ng_bootstrap.g.from(this.formatter.parse(ag.date)),available:ag.available}))}catch(err){console.log(err)}this.loadingAvailabilityGraph=!1})}}select_dates_component_SelectDatesComponent.\u0275fac=function SelectDatesComponent_Factory(t){return new(t||select_dates_component_SelectDatesComponent)(core.Oc(ng_bootstrap.c),core.Oc(ng_bootstrap.d),core.Oc(ng_bootstrap.h),core.Oc(bookings_service.a),core.Oc(ng_bootstrap.k))},select_dates_component_SelectDatesComponent.\u0275cmp=core.Ic({type:select_dates_component_SelectDatesComponent,selectors:[["app-select-dates"]],viewQuery:function SelectDatesComponent_Query(rf,ctx){if(1&rf&&core.Id(_c0,1),2&rf){let _t;core.sd(_t=core.ed())&&(ctx.datepicker=_t.first)}},decls:25,vars:7,consts:[[1,"modal-header","m-2","border-bottom-0","d-flex","justify-content-between"],["type","button","aria-label","Close",1,"btn","btn-transparent","btn-no-border",3,"click"],["src","assets/images/mobile-back.svg"],["type","button","aria-label","Close",1,"close","btn-no-border",3,"click"],["src","assets/images/close.svg"],[1,"modal-body"],[1,"text-center"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"row","justify-content-center","mt-3","pb-10"],["outsideDays","hidden","navigation","arrows",3,"displayMonths","dayTemplate","minDate","weekdays","dateSelect","navigate"],["dp",""],["ngbDatepickerContent",""],["t",""],[1,"modal-footer"],[1,"container-fluid"],[1,"row","justify-content-between"],[1,"col-6"],["type","button",1,"btn","btn-transparent","btn-lg","btn-block","py-3",3,"click"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","py-3",3,"disabled","click"],[1,"row"],[1,"col-2"],["src","assets/images/alert.svg"],[1,"col-10","m-0","p-0"],[1,"text-uppercase","primary"],[1,"p-style-4"],["src","assets/images/available-green.svg"],[1,"text-uppercase","black"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"month"],[1,"custom-day",3,"mouseenter","mouseleave"]],template:function SelectDatesComponent_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function SelectDatesComponent_Template_button_click_1_listener(){return ctx.modal.dismiss("back")}),core.Pc(2,"img",2),core.Sc(),core.Tc(3,"button",3),core.dd("click",function SelectDatesComponent_Template_button_click_3_listener(){return ctx.modal.dismiss()}),core.Pc(4,"img",4),core.Sc(),core.Sc(),core.Tc(5,"div",5),core.Tc(6,"h4",6),core.Cd(7,"Select Rental Dates"),core.Sc(),core.Ad(8,SelectDatesComponent_div_8_Template,8,0,"div",7),core.Ad(9,SelectDatesComponent_div_9_Template,4,3,"div",8),core.Tc(10,"div",9),core.Tc(11,"ngb-datepicker",10,11),core.dd("dateSelect",function SelectDatesComponent_Template_ngb_datepicker_dateSelect_11_listener($event){return ctx.onDateSelection($event)})("navigate",function SelectDatesComponent_Template_ngb_datepicker_navigate_11_listener($event){return ctx.navigate($event.current,$event.next)}),core.Ad(13,SelectDatesComponent_ng_template_13_Template,1,1,"ng-template",12),core.Sc(),core.Ad(14,SelectDatesComponent_ng_template_14_Template,2,15,"ng-template",null,13,core.Bd),core.Sc(),core.Sc(),core.Tc(16,"div",14),core.Tc(17,"div",15),core.Tc(18,"div",16),core.Tc(19,"div",17),core.Tc(20,"button",18),core.dd("click",function SelectDatesComponent_Template_button_click_20_listener(){return ctx.modal.close()}),core.Cd(21," Clear "),core.Sc(),core.Sc(),core.Tc(22,"div",17),core.Tc(23,"button",19),core.dd("click",function SelectDatesComponent_Template_button_click_23_listener(){return ctx.addToBooking()}),core.Cd(24," ADD TO BOOKING "),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Sc()),2&rf){const _r4=core.td(15);core.Bc(8),core.ld("ngIf",ctx.loadingAvailability),core.Bc(1),core.ld("ngIf",!ctx.loadingAvailability),core.Bc(2),core.ld("displayMonths",2)("dayTemplate",_r4)("minDate",ctx.minDate)("weekdays",!0),core.Bc(12),core.ld("disabled",ctx.isDisabled())}},directives:[common.m,ng_bootstrap.i,ng_bootstrap.j,common.l,ng_bootstrap.m],styles:['h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600;text-align:center}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:16px;line-height:22px}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:500;font-size:20px;line-height:28px;color:#19303b}.p-style-1[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-weight:400;font-size:26px;line-height:34px;letter-spacing:.117321px}.p-style-1[_ngcontent-%COMP%], .p-style-3[_ngcontent-%COMP%]{font-style:normal;color:#363636}.p-style-3[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-weight:800;font-size:18px;line-height:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:1rem;list-style-type:"-";padding-inline-start:1ch}li[_ngcontent-%COMP%]::marker{color:#fab900;font-size:30px}.btn.btn-shadow[_ngcontent-%COMP%]{background:#fff;box-shadow:0 0 10px rgba(0,0,0,.15);border-radius:3px}.custom-day[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-size:14px;font-style:normal;font-weight:400;line-height:18px;text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:4rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#fab900;color:#fff!important}.custom-day.faded[_ngcontent-%COMP%]{background-color:#fab900}.custom-day.unavailable[_ngcontent-%COMP%]{text-decoration:line-through;color:#fab900!important}.custom-day.disabled[_ngcontent-%COMP%]{text-decoration:line-through;color:#c4c4c4!important}.custom-day.first[_ngcontent-%COMP%]{border-radius:998px 0 0 999px!important}.custom-day.last[_ngcontent-%COMP%]{border-radius:0 999px 999px 0!important}ngb-datepicker[_ngcontent-%COMP%]{border:none!important}.pb-10[_ngcontent-%COMP%]{padding-bottom:5rem}.modal-footer[_ngcontent-%COMP%]{background:#fff;z-index:10}']});var floating_input_component=__webpack_require__("TzY6");class YachtNameComponent{constructor(modal){this.modal=modal,this.yachtName=""}ngOnInit(){}}YachtNameComponent.\u0275fac=function YachtNameComponent_Factory(t){return new(t||YachtNameComponent)(core.Oc(ng_bootstrap.c))},YachtNameComponent.\u0275cmp=core.Ic({type:YachtNameComponent,selectors:[["app-yacht-name"]],decls:18,vars:2,consts:[[1,"modal-header","m-4","border-bottom-0","d-flex","justify-content-between"],["type","button","aria-label","Close",1,"btn","btn-transparent","btn-no-border",3,"click"],["src","assets/images/mobile-back.svg"],["type","button","aria-label","Close",1,"close","btn-no-border",3,"click"],["src","assets/images/close.svg"],[1,"modal-body","px-5"],[1,"form-group"],["label","Yacht Name","placeholder","Optional",3,"value","valueChange"],[1,"modal-footer"],[1,"container-fluid"],[1,"row","justify-content-between"],[1,"col-6"],["type","button",1,"btn","btn-transparent","btn-lg","btn-block","py-3",3,"click"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","py-3",3,"disabled","click"]],template:function YachtNameComponent_Template(rf,ctx){1&rf&&(core.Tc(0,"div",0),core.Tc(1,"button",1),core.dd("click",function YachtNameComponent_Template_button_click_1_listener(){return ctx.modal.dismiss("back")}),core.Pc(2,"img",2),core.Sc(),core.Tc(3,"button",3),core.dd("click",function YachtNameComponent_Template_button_click_3_listener(){return ctx.modal.dismiss()}),core.Pc(4,"img",4),core.Sc(),core.Sc(),core.Tc(5,"div",5),core.Tc(6,"div",6),core.Tc(7,"div",6),core.Tc(8,"app-floating-input",7),core.dd("valueChange",function YachtNameComponent_Template_app_floating_input_valueChange_8_listener($event){return ctx.yachtName=$event}),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Tc(9,"div",8),core.Tc(10,"div",9),core.Tc(11,"div",10),core.Tc(12,"div",11),core.Tc(13,"button",12),core.dd("click",function YachtNameComponent_Template_button_click_13_listener(){return ctx.modal.close()}),core.Cd(14," Skip "),core.Sc(),core.Sc(),core.Tc(15,"div",11),core.Tc(16,"button",13),core.dd("click",function YachtNameComponent_Template_button_click_16_listener(){return ctx.modal.close(ctx.yachtName)}),core.Cd(17," Next "),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Sc()),2&rf&&(core.Bc(8),core.ld("value",ctx.yachtName),core.Bc(8),core.ld("disabled",0===ctx.yachtName.length))},directives:[floating_input_component.a],styles:['h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600;text-align:center}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:24px;line-height:34px;color:#fab900}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:500;font-size:20px;line-height:28px;color:#19303b}.p-style-1[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-weight:400;font-size:26px;line-height:34px;letter-spacing:.117321px}.p-style-1[_ngcontent-%COMP%], .p-style-3[_ngcontent-%COMP%]{font-style:normal;color:#363636}.p-style-3[_ngcontent-%COMP%]{font-family:AvenirLTStd-Light;font-weight:800;font-size:18px;line-height:24px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:1rem;list-style-type:"-";padding-inline-start:1ch}li[_ngcontent-%COMP%]::marker{color:#fab900;font-size:30px}']});var metadata_service=__webpack_require__("bz6a"),breadcrumbs_component=__webpack_require__("DbBI"),booking_form_component=__webpack_require__("St1L"),we_specialize_component=__webpack_require__("oJ/u"),crystalui_angular_lightbox=__webpack_require__("k/Yu");function FaqsComponent_ngb_accordion_0_ng_template_3_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",6),core.Tc(1,"h2"),core.Cd(2),core.Sc(),core.Tc(3,"button",7),core.Pc(4,"img",8),core.Sc(),core.Sc()),2&rf){const ctx_r2=core.fd(2);core.Bc(2),core.Dd(ctx_r2.title)}}function FaqsComponent_ngb_accordion_0_ng_template_4_div_0_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",10),core.Tc(1,"h5",11),core.Cd(2),core.Sc(),core.Cd(3),core.Sc()),2&rf){const faq_r5=ctx.$implicit;core.Bc(2),core.Dd(null==faq_r5?null:faq_r5.question),core.Bc(1),core.Ed(" ",null==faq_r5?null:faq_r5.content," ")}}function FaqsComponent_ngb_accordion_0_ng_template_4_Template(rf,ctx){if(1&rf&&core.Ad(0,FaqsComponent_ngb_accordion_0_ng_template_4_div_0_Template,4,2,"div",9),2&rf){const ctx_r3=core.fd(2);core.ld("ngForOf",ctx_r3.faqs)}}function FaqsComponent_ngb_accordion_0_Template(rf,ctx){1&rf&&(core.Tc(0,"ngb-accordion",1,2),core.Tc(2,"ngb-panel",3),core.Ad(3,FaqsComponent_ngb_accordion_0_ng_template_3_Template,5,1,"ng-template",4),core.Ad(4,FaqsComponent_ngb_accordion_0_ng_template_4_Template,1,1,"ng-template",5),core.Sc(),core.Sc())}class FaqsComponent{constructor(){this.title="Questions about Booking",this.faqs=[]}ngOnInit(){}}FaqsComponent.\u0275fac=function FaqsComponent_Factory(t){return new(t||FaqsComponent)},FaqsComponent.\u0275cmp=core.Ic({type:FaqsComponent,selectors:[["app-faqs"]],inputs:{title:"title",faqs:"faqs",faq:"faq"},decls:1,vars:1,consts:[["activeIds","custom-panel-0","class","pb-0 accordion-border","style","border-bottom: none;",4,"ngIf"],["activeIds","custom-panel-0",1,"pb-0","accordion-border",2,"border-bottom","none"],["a","ngbAccordion"],["id","custom-panel-1"],["ngbPanelHeader",""],["ngbPanelContent",""],[1,"d-flex","align-items-center","justify-content-between"],["ngbPanelToggle","",1,"btn","btn-link","btn-no-border","p-0"],["src","/assets/images/Vector.svg","alt","-",1,"plus-image"],["class","pl-2 pb-2",4,"ngFor","ngForOf"],[1,"pl-2","pb-2"],[1,"faq-title","mb-1"]],template:function FaqsComponent_Template(rf,ctx){1&rf&&core.Ad(0,FaqsComponent_ngb_accordion_0_Template,5,0,"ngb-accordion",0),2&rf&&core.ld("ngIf",ctx.faqs.length)},directives:[common.m,ng_bootstrap.a,ng_bootstrap.x,ng_bootstrap.z,ng_bootstrap.y,ng_bootstrap.A,common.l],styles:["h2[_ngcontent-%COMP%]{font-size:36px;line-height:42px;text-align:center;color:#19303b}.faq-title[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-style:normal;font-weight:600}.faq-title[_ngcontent-%COMP%]{font-size:20px;margin-top:10px;margin-bottom:2px}"]});const product_page_c0=["productImage"];function ProductPage_div_0_ngb_carousel_6_1_ng_template_0_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",34),core.Pc(1,"img",35,36),core.Sc()),2&rf){const image_r19=core.fd().$implicit,ctx_r20=core.fd(3);core.Bc(1),core.ld("src",image_r19.url,core.xd)("alt",ctx_r20.product.name)}}function ProductPage_div_0_ngb_carousel_6_1_Template(rf,ctx){1&rf&&core.Ad(0,ProductPage_div_0_ngb_carousel_6_1_ng_template_0_Template,3,2,"ng-template",33)}function ProductPage_div_0_ngb_carousel_6_Template(rf,ctx){if(1&rf&&(core.Tc(0,"ngb-carousel",31),core.Ad(1,ProductPage_div_0_ngb_carousel_6_1_Template,1,0,void 0,32),core.Sc()),2&rf){const ctx_r2=core.fd(2);core.ld("showNavigationArrows",!0)("showNavigationIndicators",!1),core.Bc(1),core.ld("ngForOf",ctx_r2.product.images)}}function ProductPage_div_0_h4_20_Template(rf,ctx){if(1&rf&&(core.Tc(0,"h4",37),core.Cd(1),core.Sc()),2&rf){const ctx_r3=core.fd(2);core.Bc(1),core.Ed(" ",null==ctx_r3.product||null==ctx_r3.product.description?null:ctx_r3.product.description.tagline," ")}}function ProductPage_div_0_p_23_Template(rf,ctx){if(1&rf&&(core.Tc(0,"p",38),core.Cd(1),core.Sc()),2&rf){const ctx_r4=core.fd(2);core.Bc(1),core.Ed(" ",null==ctx_r4.product||null==ctx_r4.product.description?null:ctx_r4.product.description.summary," ")}}function ProductPage_div_0_div_33_Template(rf,ctx){1&rf&&(core.Tc(0,"div",17),core.Tc(1,"div",3),core.Tc(2,"div",39),core.Pc(3,"img",40),core.Sc(),core.Tc(4,"div",41),core.Tc(5,"h5",42),core.Cd(6,"Loading..."),core.Sc(),core.Tc(7,"p",43),core.Cd(8," We are checking availability for the chosen location, dates and quantity. "),core.Sc(),core.Sc(),core.Sc(),core.Sc())}function ProductPage_div_0_div_34_Template(rf,ctx){1&rf&&(core.Tc(0,"div",17),core.Tc(1,"div",3),core.Tc(2,"div",39),core.Pc(3,"img",40),core.Sc(),core.Tc(4,"div",41),core.Tc(5,"h5",42),core.Cd(6,"Check Availability"),core.Sc(),core.Tc(7,"p",43),core.Cd(8," Please adjust location, dates or quantity to add this item to your booking! "),core.Sc(),core.Sc(),core.Sc(),core.Sc())}function ProductPage_div_0_div_35_div_1_p_6_Template(rf,ctx){if(1&rf&&(core.Tc(0,"p",43),core.Cd(1),core.Sc()),2&rf){const ctx_r26=core.fd(4);core.Bc(1),core.Ed(" ",ctx_r26.availabilityState.notes," ")}}function ProductPage_div_0_div_35_div_1_p_7_Template(rf,ctx){1&rf&&(core.Tc(0,"p",43),core.Cd(1," Please adjust location, dates or quantity to add this item to your booking! "),core.Sc())}function ProductPage_div_0_div_35_div_1_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",3),core.Tc(1,"div",39),core.Pc(2,"img",44),core.Sc(),core.Tc(3,"div",41),core.Tc(4,"h5",42),core.Cd(5,"Not Available"),core.Sc(),core.Ad(6,ProductPage_div_0_div_35_div_1_p_6_Template,2,1,"p",45),core.Ad(7,ProductPage_div_0_div_35_div_1_p_7_Template,2,0,"p",45),core.Sc(),core.Sc()),2&rf){const ctx_r23=core.fd(3);core.Bc(6),core.ld("ngIf",ctx_r23.availabilityState.notes),core.Bc(1),core.ld("ngIf",!ctx_r23.availabilityState.notes)}}function ProductPage_div_0_div_35_div_2_p_6_Template(rf,ctx){if(1&rf&&(core.Tc(0,"p",43),core.Cd(1),core.Sc()),2&rf){const ctx_r28=core.fd(4);core.Bc(1),core.Ed(" ",ctx_r28.availabilityState.notes," ")}}function ProductPage_div_0_div_35_div_2_p_7_Template(rf,ctx){1&rf&&(core.Tc(0,"p",43),core.Cd(1," Please adjust location, dates or quantity to add this item to your booking! "),core.Sc())}function ProductPage_div_0_div_35_div_2_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",3),core.Tc(1,"div",39),core.Pc(2,"img",44),core.Sc(),core.Tc(3,"div",41),core.Tc(4,"h5",42),core.Cd(5,"Delayed"),core.Sc(),core.Ad(6,ProductPage_div_0_div_35_div_2_p_6_Template,2,1,"p",45),core.Ad(7,ProductPage_div_0_div_35_div_2_p_7_Template,2,0,"p",45),core.Sc(),core.Sc()),2&rf){const ctx_r24=core.fd(3);core.Bc(6),core.ld("ngIf",ctx_r24.availabilityState.notes),core.Bc(1),core.ld("ngIf",!ctx_r24.availabilityState.notes)}}function ProductPage_div_0_div_35_div_3_p_6_Template(rf,ctx){if(1&rf&&(core.Tc(0,"p",43),core.Cd(1),core.Sc()),2&rf){const ctx_r30=core.fd(4);core.Bc(1),core.Ed(" ",ctx_r30.availabilityState.notes," ")}}function ProductPage_div_0_div_35_div_3_p_7_Template(rf,ctx){1&rf&&(core.Tc(0,"p",43),core.Cd(1," This item is available for your dates. "),core.Sc())}function ProductPage_div_0_div_35_div_3_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",3),core.Tc(1,"div",39),core.Pc(2,"img",46),core.Sc(),core.Tc(3,"div",47),core.Tc(4,"h5",48),core.Cd(5,"Available"),core.Sc(),core.Ad(6,ProductPage_div_0_div_35_div_3_p_6_Template,2,1,"p",45),core.Ad(7,ProductPage_div_0_div_35_div_3_p_7_Template,2,0,"p",45),core.Sc(),core.Sc()),2&rf){const ctx_r25=core.fd(3);core.Bc(6),core.ld("ngIf",ctx_r25.availabilityState.notes),core.Bc(1),core.ld("ngIf",!ctx_r25.availabilityState.notes)}}function ProductPage_div_0_div_35_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",17),core.Ad(1,ProductPage_div_0_div_35_div_1_Template,8,2,"div",27),core.Ad(2,ProductPage_div_0_div_35_div_2_Template,8,2,"div",27),core.Ad(3,ProductPage_div_0_div_35_div_3_Template,8,2,"div",27),core.Sc()),2&rf){const ctx_r7=core.fd(2);core.Bc(1),core.ld("ngIf","NOT_AVAILABLE"===ctx_r7.availabilityState.state),core.Bc(1),core.ld("ngIf","AVAILABLE_BUT_DELAYED"===ctx_r7.availabilityState.state),core.Bc(1),core.ld("ngIf","AVAILABLE"===ctx_r7.availabilityState.state)}}function ProductPage_div_0_div_39_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",49),core.Tc(1,"div",4),core.Tc(2,"h4"),core.Cd(3),core.Sc(),core.Pc(4,"div",50),core.Sc(),core.Sc()),2&rf){const ctx_r8=core.fd(2);core.Bc(3),core.Dd(null==ctx_r8.product||null==ctx_r8.product.description||null==ctx_r8.product.description.section1?null:ctx_r8.product.description.section1.head),core.Bc(1),core.ld("innerHTML",null==ctx_r8.product||null==ctx_r8.product.description||null==ctx_r8.product.description.section1?null:ctx_r8.product.description.section1.paragraph,core.wd)}}function ProductPage_div_0_hr_40_Template(rf,ctx){1&rf&&core.Pc(0,"hr",24)}function ProductPage_div_0_div_41_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",3),core.Tc(1,"div",4),core.Tc(2,"h4"),core.Cd(3),core.Sc(),core.Pc(4,"div",50),core.Sc(),core.Sc()),2&rf){const ctx_r10=core.fd(2);core.Bc(3),core.Dd(null==ctx_r10.product||null==ctx_r10.product.description||null==ctx_r10.product.description.section2?null:ctx_r10.product.description.section2.head),core.Bc(1),core.ld("innerHTML",null==ctx_r10.product||null==ctx_r10.product.description||null==ctx_r10.product.description.section2?null:ctx_r10.product.description.section2.paragraph,core.wd)}}function ProductPage_div_0_div_43_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",3),core.Tc(1,"div",4),core.Tc(2,"h4"),core.Cd(3),core.Sc(),core.Pc(4,"div",50),core.Sc(),core.Sc()),2&rf){const ctx_r11=core.fd(2);core.Bc(3),core.Dd(null==ctx_r11.product||null==ctx_r11.product.description||null==ctx_r11.product.description.section3?null:ctx_r11.product.description.section3.head),core.Bc(1),core.ld("innerHTML",null==ctx_r11.product||null==ctx_r11.product.description||null==ctx_r11.product.description.section3?null:ctx_r11.product.description.section3.paragraph,core.wd)}}function ProductPage_div_0_div_44_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",49),core.Tc(1,"div",4),core.Tc(2,"h4"),core.Cd(3),core.Sc(),core.Pc(4,"div",50),core.Sc(),core.Sc()),2&rf){const ctx_r12=core.fd(2);core.Bc(3),core.Dd(null==ctx_r12.product||null==ctx_r12.product.description||null==ctx_r12.product.description.section4?null:ctx_r12.product.description.section4.head),core.Bc(1),core.ld("innerHTML",null==ctx_r12.product||null==ctx_r12.product.description||null==ctx_r12.product.description.section4?null:ctx_r12.product.description.section4.paragraph,core.wd)}}function ProductPage_div_0_div_45_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",49),core.Tc(1,"div",4),core.Tc(2,"h4"),core.Cd(3),core.Sc(),core.Pc(4,"div",50),core.Sc(),core.Sc()),2&rf){const ctx_r13=core.fd(2);core.Bc(3),core.Dd(null==ctx_r13.product||null==ctx_r13.product.description||null==ctx_r13.product.description.section5?null:ctx_r13.product.description.section5.head),core.Bc(1),core.ld("innerHTML",null==ctx_r13.product||null==ctx_r13.product.description||null==ctx_r13.product.description.section5?null:ctx_r13.product.description.section5.paragraph,core.wd)}}function ProductPage_div_0_div_46_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",49),core.Tc(1,"div",4),core.Tc(2,"h4"),core.Cd(3),core.Sc(),core.Pc(4,"div",50),core.Sc(),core.Sc()),2&rf){const ctx_r14=core.fd(2);core.Bc(3),core.Dd(null==ctx_r14.product||null==ctx_r14.product.description||null==ctx_r14.product.description.section6?null:ctx_r14.product.description.section6.head),core.Bc(1),core.ld("innerHTML",null==ctx_r14.product||null==ctx_r14.product.description||null==ctx_r14.product.description.section6?null:ctx_r14.product.description.section6.paragraph,core.wd)}}function ProductPage_div_0_div_47_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",49),core.Tc(1,"div",4),core.Tc(2,"h4"),core.Cd(3),core.Sc(),core.Pc(4,"div",50),core.Sc(),core.Sc()),2&rf){const ctx_r15=core.fd(2);core.Bc(3),core.Dd(null==ctx_r15.product||null==ctx_r15.product.description||null==ctx_r15.product.description.section7?null:ctx_r15.product.description.section7.head),core.Bc(1),core.ld("innerHTML",null==ctx_r15.product||null==ctx_r15.product.description||null==ctx_r15.product.description.section7?null:ctx_r15.product.description.section7.paragraph,core.wd)}}function ProductPage_div_0_div_48_Template(rf,ctx){if(1&rf){const _r33=core.Uc();core.Tc(0,"div",51),core.Tc(1,"div",52),core.Cd(2," Available "),core.Sc(),core.Tc(3,"div",53),core.Cd(4,"Spares & Extras"),core.Sc(),core.Tc(5,"p",54),core.Cd(6," These are optional spares and extras that you can add to your booking during check out. "),core.Sc(),core.Tc(7,"app-recommended-product-carousel",55),core.dd("productClick",function ProductPage_div_0_div_48_Template_app_recommended_product_carousel_productClick_7_listener($event){core.vd(_r33);return core.fd(2).productClick($event)}),core.Sc(),core.Sc()}if(2&rf){const ctx_r16=core.fd(2);core.Bc(7),core.ld("products",ctx_r16.recommendedProducts)("showAddToBooking",!1)("showCounter",!1)}}function ProductPage_div_0_div_49_Template(rf,ctx){if(1&rf&&(core.Tc(0,"div",24),core.Pc(1,"app-faqs",56),core.Sc()),2&rf){const ctx_r17=core.fd(2);core.Bc(1),core.ld("title",ctx_r17.faqsTitle)("faqs",ctx_r17.product.faqs)}}function ProductPage_div_0_Template(rf,ctx){if(1&rf){const _r35=core.Uc();core.Tc(0,"div",2),core.Tc(1,"div",3),core.Tc(2,"div",4),core.Pc(3,"app-breadcrumbs",5),core.Sc(),core.Sc(),core.Tc(4,"div",3),core.Tc(5,"div",6),core.Ad(6,ProductPage_div_0_ngb_carousel_6_Template,2,3,"ngb-carousel",7),core.Tc(7,"ul",8),core.Tc(8,"li",9),core.Tc(9,"button",10),core.dd("click",function ProductPage_div_0_Template_button_click_9_listener(){core.vd(_r35);return core.fd().openFeatures()}),core.Cd(10," Features "),core.Sc(),core.Sc(),core.Tc(11,"li",9),core.Tc(12,"button",10),core.dd("click",function ProductPage_div_0_Template_button_click_12_listener(){core.vd(_r35);return core.fd().openGallery()}),core.Cd(13," Gallery "),core.Sc(),core.Sc(),core.Sc(),core.Tc(14,"ul",11),core.Tc(15,"li",9),core.Tc(16,"a",12),core.Pc(17,"img",13),core.Cd(18," Chat with a specialist "),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Tc(19,"div",14),core.Ad(20,ProductPage_div_0_h4_20_Template,2,1,"h4",15),core.Tc(21,"h1"),core.Cd(22),core.Sc(),core.Ad(23,ProductPage_div_0_p_23_Template,2,1,"p",16),core.Tc(24,"div",3),core.Tc(25,"div",17),core.Tc(26,"p",18),core.Cd(27,"Total excl. VAT & Deposit"),core.Sc(),core.Tc(28,"h2",19),core.Cd(29),core.gd(30,"number"),core.Sc(),core.Tc(31,"p",20),core.Cd(32,"per day"),core.Sc(),core.Sc(),core.Ad(33,ProductPage_div_0_div_33_Template,9,0,"div",21),core.Ad(34,ProductPage_div_0_div_34_Template,9,0,"div",21),core.Ad(35,ProductPage_div_0_div_35_Template,4,3,"div",21),core.Sc(),core.Tc(36,"div",22),core.Tc(37,"app-booking-form",23),core.dd("availability",function ProductPage_div_0_Template_app_booking_form_availability_37_listener($event){core.vd(_r35);return core.fd().availability($event)})("loadingAvailabilityEvent",function ProductPage_div_0_Template_app_booking_form_loadingAvailabilityEvent_37_listener($event){core.vd(_r35);return core.fd().loadingAvailabilityEvent($event)})("bookingChange",function ProductPage_div_0_Template_app_booking_form_bookingChange_37_listener($event){core.vd(_r35);return core.fd().currentBooking=$event})("addToBooking",function ProductPage_div_0_Template_app_booking_form_addToBooking_37_listener($event){core.vd(_r35);return core.fd().addToBooking($event)})("lovedChange",function ProductPage_div_0_Template_app_booking_form_lovedChange_37_listener($event){core.vd(_r35);return core.fd().lovedChange($event)})("manageBookingClick",function ProductPage_div_0_Template_app_booking_form_manageBookingClick_37_listener($event){core.vd(_r35);return core.fd().manageBookingClick($event)}),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Pc(38,"hr",24),core.Ad(39,ProductPage_div_0_div_39_Template,5,2,"div",25),core.Ad(40,ProductPage_div_0_hr_40_Template,1,0,"hr",26),core.Ad(41,ProductPage_div_0_div_41_Template,5,2,"div",27),core.Tc(42,"div",28),core.Ad(43,ProductPage_div_0_div_43_Template,5,2,"div",27),core.Ad(44,ProductPage_div_0_div_44_Template,5,2,"div",25),core.Ad(45,ProductPage_div_0_div_45_Template,5,2,"div",25),core.Sc(),core.Ad(46,ProductPage_div_0_div_46_Template,5,2,"div",25),core.Ad(47,ProductPage_div_0_div_47_Template,5,2,"div",25),core.Ad(48,ProductPage_div_0_div_48_Template,8,3,"div",29),core.Ad(49,ProductPage_div_0_div_49_Template,2,2,"div",26),core.Tc(50,"div",30),core.Pc(51,"app-we-specialize"),core.Sc(),core.Sc()}if(2&rf){const ctx_r0=core.fd();core.Bc(3),core.ld("breadcrumbs",ctx_r0.breadcrumbs),core.Bc(3),core.ld("ngIf",ctx_r0.product.images),core.Bc(14),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.tagline),core.Bc(2),core.Ed("",null==ctx_r0.product?null:ctx_r0.product.name," Rental"),core.Bc(1),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.summary),core.Bc(6),core.Ed("",core.id(30,23,null==ctx_r0.product?null:ctx_r0.product.price,"1.0-2")," \u20ac"),core.Bc(4),core.ld("ngIf",ctx_r0.loadingAvailability),core.Bc(1),core.ld("ngIf",!ctx_r0.availabilityChecked&&!ctx_r0.loadingAvailability),core.Bc(1),core.ld("ngIf",ctx_r0.availabilityChecked&&!ctx_r0.loadingAvailability),core.Bc(2),core.ld("booking",ctx_r0.currentBooking)("bookings",ctx_r0.bookings)("locations",ctx_r0.locations)("product",ctx_r0.product),core.Bc(2),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section1),core.Bc(1),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section1),core.Bc(1),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section2),core.Bc(2),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section3),core.Bc(1),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section4),core.Bc(1),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section5),core.Bc(1),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section6),core.Bc(1),core.ld("ngIf",null==ctx_r0.product||null==ctx_r0.product.description?null:ctx_r0.product.description.section7),core.Bc(1),core.ld("ngIf",ctx_r0.recommendedProducts&&ctx_r0.recommendedProducts.length>0),core.Bc(1),core.ld("ngIf",ctx_r0.product)}}function ProductPage_footer_1_Template(rf,ctx){if(1&rf){const _r44=core.Uc();core.Tc(0,"footer",57),core.Tc(1,"div",58),core.Tc(2,"div",3),core.Tc(3,"div",4),core.Tc(4,"p",59),core.Cd(5),core.Sc(),core.Sc(),core.Sc(),core.Tc(6,"div",3),core.Tc(7,"div",4),core.Tc(8,"p",20),core.Cd(9),core.Sc(),core.Sc(),core.Sc(),core.Tc(10,"div",3),core.Tc(11,"div",60),core.Tc(12,"app-counter",61),core.dd("counterChange",function ProductPage_footer_1_Template_app_counter_counterChange_12_listener($event){core.vd(_r44);return core.fd().product.quantity=$event}),core.Sc(),core.Sc(),core.Tc(13,"div",62),core.Tc(14,"button",63),core.dd("click",function ProductPage_footer_1_Template_button_click_14_listener(){core.vd(_r44);return core.fd().openAddToBookingModal()}),core.Cd(15," Add to Booking "),core.Sc(),core.Sc(),core.Sc(),core.Sc(),core.Sc()}if(2&rf){const ctx_r1=core.fd();core.Bc(5),core.Ed("",null==ctx_r1.product?null:ctx_r1.product.name," Rental"),core.Bc(4),core.Ed("",null==ctx_r1.product?null:ctx_r1.product.price," \u20ac / day"),core.Bc(3),core.ld("counter",ctx_r1.product.quantity)}}class product_page_ProductPage{constructor(activatedRoute,modalService,productService,bookingService,locationService,router,metaService,platformId){this.activatedRoute=activatedRoute,this.modalService=modalService,this.productService=productService,this.bookingService=bookingService,this.locationService=locationService,this.router=router,this.metaService=metaService,this.platformId=platformId,this.breadcrumbs=[{absolutePath:environment.a.home,label:"Rentals",active:!1,disabled:!1}],this.bookings=[],this.accessories=[],this.productSlug="",this.locations=[],this.recommendedProducts=[],this.recommendedWaterToys=[],this.availabilityChecked=!1,this.isAvailable=!1,this.modalBooking=new booking_model.b,this.popularMediterraneanPorts=[],this.popularCaribbeanPorts=[],this.availabilityState=new availability_state.a,this.loadingAvailability=!1,this.faqsTitle="Questions about Booking"}ngOnInit(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){this.activatedRoute.paramMap.subscribe(params=>{if(!params.has("product_slug"))return void console.log("Product not found");const productGroupSlug=params.get("product_group_slug"),productSlug=params.get("product_slug");this.findProductBySlug(productGroupSlug,productSlug),this.getLocations()})})}openFeatures(){var _a,_b;const modal=this.modalService.open(ProductFeaturesComponent,{size:"lg"});modal.componentInstance.title=null===(_a=this.product)||void 0===_a?void 0:_a.name,modal.componentInstance.description=null===(_b=this.product)||void 0===_b?void 0:_b.features}openGallery(){this.imageCarousel&&this.imageCarousel.nativeElement.click()}openRecommendedAccessories(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const modal=this.modalService.open(recommended_accessories_component_RecommendedAccessoriesComponent,{size:"xl",scrollable:!0});modal.componentInstance.accessories=this.accessories;try{const accessoriesToAdd=yield modal.result;yield this.bookingService.addAccessories(this.currentBooking,this.product,accessoriesToAdd),this.router.navigate(["bookings","recently-added"])}catch(err){this.router.navigate(["bookings","recently-added"])}})}findProductBySlug(productGroupSlug,productSlug){var _a,_b;return Object(tslib.__awaiter)(this,void 0,void 0,function*(){this.breadcrumbs=[{absolutePath:environment.a.home,label:"Rentals",active:!1,disabled:!1}];try{const productAndAccessories=yield this.productService.getProductBySlug(productGroupSlug,productSlug);this.accessories=productAndAccessories.accessories,this.product=productAndAccessories.product;var recomProd=this.accessories;if(recomProd.forEach(product=>product.quantity=0),recomProd=recomProd.filter(x=>"OPTIONAL"===x.type),this.recommendedProducts=recomProd,this.findRecommendedWaterToys(this.product),this.metaService&&this.metaService.updateMetadata({title:`${this.product.slug||this.product.name} for Superyachts | Ocean Premium`,description:`${this.product.seoMetaDescription||this.product.slug||this.product.name}`}),this.breadcrumbs.push({absolutePath:environment.a.home,label:this.product.productGroup.name,active:!1,disabled:!1}),this.breadcrumbs.push({path:"/",label:this.product.name,active:!0,disabled:!1}),this.faqsTitle=`Questions about ${this.product.name}`,this.bookings=this.bookingService.getBookings(),this.currentBooking=this.bookingService.getCurrentBooking(),!this.currentBooking&&this.bookings.length>0&&(this.currentBooking=this.bookings[0],this.bookingService.setCurrentBooking(this.currentBooking)),!this.currentBooking&&0===this.bookings.length&&(this.currentBooking=new booking_model.b,Object(common.y)(this.platformId))){const lastSearch=JSON.parse(localStorage.getItem("last_search")||"{}");if(lastSearch)try{if(this.currentBooking.location.collection=null===(_a=lastSearch.location)||void 0===_a?void 0:_a.collection,this.currentBooking.location.delivery=null===(_b=lastSearch.location)||void 0===_b?void 0:_b.delivery,lastSearch.period.start){const fromParts=lastSearch.period.start.split("-"),fromYear=Number(fromParts[0]),fromMonth=Number(fromParts[1]),fromDay=Number(fromParts[2].split("T")[0]);this.currentBooking.period.fromDate=new ng_bootstrap.g(fromYear,fromMonth,fromDay)}if(lastSearch.period.end){const parts=lastSearch.period.end.split("-"),year=Number(parts[0]),month=Number(parts[1]),day=Number(parts[2].split("T")[0]);this.currentBooking.period.fromDate=new ng_bootstrap.g(year,month,day)}setTimeout(()=>{this.bookingService.forceAvailabilityCheck()},5e3)}catch(err){console.log("Failed to use last search: ",err)}}this.bookingService.bookingsChanged.subscribe(()=>{this.bookings=this.bookingService.getBookings()})}catch(err){console.log(err)}})}getLocations(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){this.locations=yield this.locationService.getLocations(),this.locations.sort(function(a,b){return a.name.localeCompare(b.name)}),this.popularMediterraneanPorts=yield this.locationService.getPopularMediterraneanPorts(this.locations),this.popularCaribbeanPorts=yield this.locationService.getPopularCaribbeanPorts(this.locations)})}manageBookingClick(booking){}lovedChange(loved){console.log(loved)}openLoginModal(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const modal=this.modalService.open(login_modal_component_LoginModalComponent,{size:"lg"});modal.dismissed.subscribe(reason=>{"signup"===reason&&this.openSignUpModal()}),modal.result.then(_user=>{this.unauthBookingProduct&&this.addToBooking(this.unauthBookingProduct)}).then(err=>{console.log("login error: ",err)})})}openSignUpModal(){const modal=this.modalService.open(sign_up_modal_component_SignUpModalComponent,{size:"lg"});modal.dismissed.subscribe(reason=>{"login"===reason&&this.openLoginModal()}),modal.result.then(_user=>{this.unauthBookingProduct&&this.addToBooking(this.unauthBookingProduct)}).then(err=>{console.log("signup error: ",err)})}openAddToBookingModal(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(0===this.bookings.length)return void this.openYachtNameModal();const modal=this.modalService.open(AddToBookingComponent,{size:"xl",scrollable:!0});modal.componentInstance.bookings=this.bookings,modal.dismissed.subscribe(reason=>{reason&&"create-booking"===reason&&this.openYachtNameModal()}),modal.result.then(booking=>{this.addToBooking({booking:booking,product:this.product})}).catch(err=>{console.log("Add to booking error: ",err)})})}openYachtNameModal(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const modal=this.modalService.open(YachtNameComponent,{size:"xl",scrollable:!0});modal.dismissed.subscribe(reason=>{reason&&"back"===reason&&this.bookings.length>0&&this.openAddToBookingModal()}),modal.result.then(yachtName=>{this.modalBooking.yachtName=yachtName,this.openPickUpLocationModal()}).catch(err=>{console.log("yacht name error: ",err)})})}openPickUpLocationModal(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const modal=this.modalService.open(PickUpLocationComponent,{size:"xl",scrollable:!0});modal.componentInstance.locations=this.locations,modal.componentInstance.pickUpLocation=this.modalBooking.location.collection,modal.componentInstance.popularMediterraneanPorts=this.popularMediterraneanPorts,modal.componentInstance.popularCaribbeanPorts=this.popularCaribbeanPorts,modal.dismissed.subscribe(reason=>{reason&&"back"===reason&&this.openYachtNameModal()}),modal.result.then(location=>{this.modalBooking.location.collection=location,this.openDropOffLocationModal()}).catch(err=>{console.log("pick up location error: ",err)})})}openDropOffLocationModal(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const modal=this.modalService.open(DropOffLocationComponent,{size:"xl",scrollable:!0});modal.componentInstance.locations=this.locations,modal.componentInstance.dropOffLocation=this.modalBooking.location.delivery,modal.componentInstance.popularMediterraneanPorts=this.popularMediterraneanPorts,modal.componentInstance.popularCaribbeanPorts=this.popularCaribbeanPorts,modal.componentInstance.pickUpLocation=this.modalBooking.location.collection,modal.dismissed.subscribe(reason=>{reason&&"back"===reason&&this.openPickUpLocationModal()}),modal.result.then(location=>{this.modalBooking.location.delivery=location,this.openSelectDatesModal()}).catch(err=>{console.log("drop off location error: ",err)})})}openSelectDatesModal(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const modal=this.modalService.open(select_dates_component_SelectDatesComponent,{size:"xl",scrollable:!0});modal.componentInstance.product=this.product,modal.componentInstance.booking=this.modalBooking,modal.dismissed.subscribe(reason=>{reason&&"back"===reason&&this.openDropOffLocationModal()}),modal.result.then(response=>{this.modalBooking.period.fromDate=response.fromDate,this.modalBooking.period.toDate=response.toDate,this.addToBooking({booking:this.modalBooking,product:this.product})}).catch(err=>{console.log("drop off location error: ",err)})})}availability(availabilityState){this.availabilityState=availabilityState,this.availabilityChecked=!0}loadingAvailabilityEvent(loading){this.loadingAvailability=loading}addToBooking(bookingAndProduct){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(Object(common.y)(this.platformId)&&!localStorage.getItem("APPSTRAX_AUTH_TOKEN"))return this.unauthBookingProduct=bookingAndProduct,void this.openLoginModal();const booking=yield this.bookingService.addToBooking(bookingAndProduct.booking,bookingAndProduct.product);this.bookingService.setCurrentBooking(booking),this.currentBooking=booking,this.openRecommendedAccessories()})}productClick(product){product.productGroupSlug&&product.productSlug&&this.router.navigate([product.productGroupSlug,product.productSlug])}toyClick(toy){toy.productGroupSlug&&toy.productSlug&&this.router.navigate([toy.productGroupSlug,toy.productSlug])}findRecommendedProducts(product){var _a;return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(!product.productGroup)throw new Error("Product Group not found, can't get recommended products");const productGroupIds=[null===(_a=product.productGroup)||void 0===_a?void 0:_a.id];this.recommendedProducts=yield this.productService.getRecommendedProducts(productGroupIds),this.findRecommendedWaterToys(product)})}findRecommendedWaterToys(product){var _a;return Object(tslib.__awaiter)(this,void 0,void 0,function*(){if(!product.productGroup)throw new Error("Product Group not found, can't get recommended water toys");if(this.recommendedWaterToys.length)console.log("Already have toys",this.recommendedWaterToys);else{const productGroupIds=[null===(_a=product.productGroup)||void 0===_a?void 0:_a.id];this.recommendedWaterToys=yield this.productService.getRecommendedWaterToys(productGroupIds)}})}}product_page_ProductPage.\u0275fac=function ProductPage_Factory(t){return new(t||product_page_ProductPage)(core.Oc(fesm2015_router.a),core.Oc(ng_bootstrap.t),core.Oc(product_service_ProductService),core.Oc(bookings_service.a),core.Oc(location_service.a),core.Oc(fesm2015_router.c),core.Oc(metadata_service.a,8),core.Oc(core.V))},product_page_ProductPage.\u0275cmp=core.Ic({type:product_page_ProductPage,selectors:[["app-product"]],viewQuery:function ProductPage_Query(rf,ctx){if(1&rf&&core.Id(product_page_c0,1),2&rf){let _t;core.sd(_t=core.ed())&&(ctx.imageCarousel=_t.first)}},decls:2,vars:2,consts:[["class","container",4,"ngIf"],["class","footer d-block d-md-none d-lg-none",4,"ngIf"],[1,"container"],[1,"row"],[1,"col"],[3,"breadcrumbs"],[1,"col-lg-6","col-md-6","col-sm-12","order-last","order-lg-1","order-md-1"],["lightbox-group","",3,"showNavigationArrows","showNavigationIndicators",4,"ngIf"],[1,"nav","nav-justified","mx-5","my-2"],[1,"nav-item"],[1,"btn","btn-transparent",3,"click"],[1,"nav","nav-justified","mx-5"],["href","https://wa.me/+33640629599",1,"btn","btn-transparent","primary"],["src","assets/images/chat.svg"],[1,"col-lg-6","col-md-6","col-sm-12","order-first","order-lg-12","order-md-12"],["class","primary",4,"ngIf"],["class","my-4 p-style-2",4,"ngIf"],[1,"col-5","d-none","d-md-block","d-lg-block"],[1,"mb-n1","p-style-4"],[1,"mb-n1"],[1,"p-style-4","grey"],["class","col-5 d-none d-md-block d-lg-block",4,"ngIf"],[1,"d-none","d-md-inline","d-lg-inline"],[3,"booking","bookings","locations","product","availability","loadingAvailabilityEvent","bookingChange","addToBooking","lovedChange","manageBookingClick"],[1,"my-5"],["class","row mt-5",4,"ngIf"],["class","my-5",4,"ngIf"],["class","row",4,"ngIf"],[1,"grey-background","p-4","mt-5"],["class","my-4 py-4",4,"ngIf"],[1,"py-4"],["lightbox-group","",3,"showNavigationArrows","showNavigationIndicators"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper"],["lightbox","",1,"img-fluid","product-image",3,"src","alt"],["productImage",""],[1,"primary"],[1,"my-4","p-style-2"],[1,"col-2"],["src","assets/images/alert.svg"],[1,"col-10","m-0","p-0"],[1,"text-uppercase","primary"],[1,"p-style-4"],["src","assets/images/alert.svg",1,"btn-no-border"],["class","p-style-4",4,"ngIf"],["src","assets/images/available-green.svg",1,"btn-no-border"],[1,"col-10","m-0","p-l-1"],[1,"text-uppercase","black"],[1,"row","mt-5"],[1,"p-style-1",3,"innerHTML"],[1,"my-4","py-4"],[1,"primary","align-items-center","mt-5","fs-24","tyros-reg-600"],[1,"fs-36","align-items-center","tyros-reg-700"],[1,"p-style-2"],[3,"products","showAddToBooking","showCounter","productClick"],[3,"title","faqs"],[1,"footer","d-block","d-md-none","d-lg-none"],[1,"container","py-3"],[1,"p-style-2","mb-n1"],[1,"col-4"],[3,"counter","counterChange"],[1,"col-8"],["id","product-page-add-to-booking-mobile",1,"btn","btn-primary","btn-lg","btn-block","py-3","mt-2","btn-no-border",3,"click"]],template:function ProductPage_Template(rf,ctx){1&rf&&(core.Ad(0,ProductPage_div_0_Template,52,26,"div",0),core.Ad(1,ProductPage_footer_1_Template,16,3,"footer",1)),2&rf&&(core.ld("ngIf",ctx.product),core.Bc(1),core.ld("ngIf",ctx.product))},directives:[common.m,breadcrumbs_component.a,booking_form_component.a,we_specialize_component.a,ng_bootstrap.e,crystalui_angular_lightbox.c,common.l,ng_bootstrap.C,crystalui_angular_lightbox.b,recommended_product_carousel_component_RecommendedProductCarousel,FaqsComponent,counter_component.a],pipes:[common.e],styles:["h2[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:36px;line-height:42px;color:#19303b}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-style:normal;font-weight:600}h4[_ngcontent-%COMP%]{font-family:TyrosPro-SemiBold;font-size:24px;line-height:34px}h5[_ngcontent-%COMP%]{font-family:TyrosPro-Bold;font-weight:700;font-size:14px;line-height:24px;margin-top:.1rem!important}h5[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-style:normal}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:AvenirLTStd-Roman;font-weight:500;font-size:18px;line-height:22px;align-items:center;text-align:center;letter-spacing:.25px;color:#363636}.grey-background[_ngcontent-%COMP%]{background-color:#f1f1f1}.grey[_ngcontent-%COMP%]{color:#c4c4c4!important}.primary[_ngcontent-%COMP%]{color:#fab900!important}.black[_ngcontent-%COMP%]{color:#363636}.product-image[_ngcontent-%COMP%]{min-height:450px;max-height:545px}.p-style-1[_ngcontent-%COMP%]{font-size:26px;line-height:34px;color:#363636}.p-style-1[_ngcontent-%COMP%], .p-style-2[_ngcontent-%COMP%]{font-family:AvenirLTStd-Book;font-style:normal;font-weight:400;letter-spacing:.117321px}.p-style-2[_ngcontent-%COMP%]{font-size:24px;line-height:30px;color:#082229}.p-style-4[_ngcontent-%COMP%]{font-family:TyrosPro-Medium;font-size:14px;line-height:18px;color:#19303b}.p-style-4[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{font-style:normal;font-weight:400}select.form-control[_ngcontent-%COMP%]{background:#fff;border:1px solid #c4c4c4;box-sizing:border-box;border-radius:3px;height:60px;font-family:AvenirLTStd-Book;font-size:16px;line-height:22px;color:#363636;-moz-appearance:none;-webkit-appearance:none;appearance:none}.form-group.hidden[_ngcontent-%COMP%], div.form-group.hidden[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{height:0;width:0;margin:0;border:none;padding:0}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#fab900;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#fab900}input[_ngcontent-%COMP%]{height:60px}.footer[_ngcontent-%COMP%]{position:sticky;display:block;bottom:0;width:100%;height:180px;line-height:60px;background-color:#fff;box-shadow:0 0 50px hsla(0,0%,76.9%,.3);z-index:10}"]});const routes=[{path:"add",component:basic_layout_component.a,children:[{path:"",component:add_component_AddComponent}]},{path:":product_group_slug/:product_slug",component:basic_layout_component.a,children:[{path:"",component:product_page_ProductPage}]}];class ProductRoutingModule{}ProductRoutingModule.\u0275fac=function ProductRoutingModule_Factory(t){return new(t||ProductRoutingModule)},ProductRoutingModule.\u0275mod=core.Mc({type:ProductRoutingModule}),ProductRoutingModule.\u0275inj=core.Lc({imports:[[fesm2015_router.g.forChild(routes)],fesm2015_router.g]});class ProductModule{}ProductModule.\u0275fac=function ProductModule_Factory(t){return new(t||ProductModule)},ProductModule.\u0275mod=core.Mc({type:ProductModule}),ProductModule.\u0275inj=core.Lc({imports:[[common.c,fesm2015_forms.f,http.c,ProductRoutingModule,crystalui_angular_lightbox.a,ng_bootstrap.u,ng_bootstrap.f,core_module.CoreModule,ng_bootstrap.l]]})}};